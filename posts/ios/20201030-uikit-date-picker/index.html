<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>UIKit - Date Picker 사용하기, iOS 14 변경사항 정리 | SDY - Developer Kas</title><meta name=keywords content="UIKit,DatePicker"><meta name=description content="본 포스팅은 다음 버전을 기준으로 작성되었습니다.
Swift 5.3 iOS 14.1 Intro 이전 포스트에서 Date 에 관해 알아보았으니 이번에는 사용자가 아이폰에서 날짜를 고를 때 자주 마주치게되는 인터페이스 중 하나인 DatePicker 에 대해 같이 공부해보겠습니다.
iOS 14 가 업데이트 되면서 기존까지와는 다른 스타일의 DatePicker 가 추가되었는데요. 아이폰 기본 알람앱을 자주 사용하는 분이라면 이미 알고 계셨을거에요 ㅎㅎ 아무튼 공부하는 김에 이 새로운 스타일의 DatePicker 도 함께 알아보도록 할게요.
Prerequisite 먼저 실습을 위해 간단하게 ViewController 위에 DatePicker 를 올려놓았습니다."><meta name=author content="Doyoung Song"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9464825723074024" crossorigin=anonymous></script>
<link rel=canonical href=https://kasroid.github.io/posts/ios/20201030-uikit-date-picker/><meta name=google-site-verification content="43_MOEW0diGtfoxWtXZ65iT24CFf_i63QMcMBiLkAUs"><link crossorigin=anonymous href=/assets/css/stylesheet.e25c039fcca7cb994b37c6f8ebbbca4c2f45a76107a5c9cf00996f9649d57ca6.css integrity="sha256-4lwDn8yny5lLN8b467vKTC9Fp2EHpcnPAJlvlknVfKY=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://kasroid.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://kasroid.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://kasroid.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://kasroid.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://kasroid.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-177150852-1","auto"),ga("send","pageview"))</script><meta property="og:title" content="UIKit - Date Picker 사용하기, iOS 14 변경사항 정리"><meta property="og:description" content="본 포스팅은 다음 버전을 기준으로 작성되었습니다.
Swift 5.3 iOS 14.1 Intro 이전 포스트에서 Date 에 관해 알아보았으니 이번에는 사용자가 아이폰에서 날짜를 고를 때 자주 마주치게되는 인터페이스 중 하나인 DatePicker 에 대해 같이 공부해보겠습니다.
iOS 14 가 업데이트 되면서 기존까지와는 다른 스타일의 DatePicker 가 추가되었는데요. 아이폰 기본 알람앱을 자주 사용하는 분이라면 이미 알고 계셨을거에요 ㅎㅎ 아무튼 공부하는 김에 이 새로운 스타일의 DatePicker 도 함께 알아보도록 할게요.
Prerequisite 먼저 실습을 위해 간단하게 ViewController 위에 DatePicker 를 올려놓았습니다."><meta property="og:type" content="article"><meta property="og:url" content="https://kasroid.github.io/posts/ios/20201030-uikit-date-picker/"><meta property="og:image" content="https://kasroid.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-10-30T17:12:51+09:00"><meta property="article:modified_time" content="2020-10-30T17:12:51+09:00"><meta property="og:site_name" content="SDY - Dev Log"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://kasroid.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="UIKit - Date Picker 사용하기, iOS 14 변경사항 정리"><meta name=twitter:description content="본 포스팅은 다음 버전을 기준으로 작성되었습니다.
Swift 5.3 iOS 14.1 Intro 이전 포스트에서 Date 에 관해 알아보았으니 이번에는 사용자가 아이폰에서 날짜를 고를 때 자주 마주치게되는 인터페이스 중 하나인 DatePicker 에 대해 같이 공부해보겠습니다.
iOS 14 가 업데이트 되면서 기존까지와는 다른 스타일의 DatePicker 가 추가되었는데요. 아이폰 기본 알람앱을 자주 사용하는 분이라면 이미 알고 계셨을거에요 ㅎㅎ 아무튼 공부하는 김에 이 새로운 스타일의 DatePicker 도 함께 알아보도록 할게요.
Prerequisite 먼저 실습을 위해 간단하게 ViewController 위에 DatePicker 를 올려놓았습니다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://kasroid.github.io/posts/"},{"@type":"ListItem","position":3,"name":"iOS","item":"https://kasroid.github.io/posts/ios/"},{"@type":"ListItem","position":4,"name":"UIKit - Date Picker 사용하기, iOS 14 변경사항 정리","item":"https://kasroid.github.io/posts/ios/20201030-uikit-date-picker/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"UIKit - Date Picker 사용하기, iOS 14 변경사항 정리","name":"UIKit - Date Picker 사용하기, iOS 14 변경사항 정리","description":"본 포스팅은 다음 버전을 기준으로 작성되었습니다.\nSwift 5.3 iOS 14.1 Intro 이전 포스트에서 Date 에 관해 알아보았으니 이번에는 사용자가 아이폰에서 날짜를 고를 때 자주 마주치게되는 인터페이스 중 하나인 DatePicker 에 대해 같이 공부해보겠습니다.\niOS 14 가 업데이트 되면서 기존까지와는 다른 스타일의 DatePicker 가 추가되었는데요. 아이폰 기본 알람앱을 자주 사용하는 분이라면 이미 알고 계셨을거에요 ㅎㅎ 아무튼 공부하는 김에 이 새로운 스타일의 DatePicker 도 함께 알아보도록 할게요.\nPrerequisite 먼저 실습을 위해 간단하게 ViewController 위에 DatePicker 를 올려놓았습니다.","keywords":["UIKit","DatePicker"],"articleBody":" 본 포스팅은 다음 버전을 기준으로 작성되었습니다.\nSwift 5.3 iOS 14.1 Intro 이전 포스트에서 Date 에 관해 알아보았으니 이번에는 사용자가 아이폰에서 날짜를 고를 때 자주 마주치게되는 인터페이스 중 하나인 DatePicker 에 대해 같이 공부해보겠습니다.\niOS 14 가 업데이트 되면서 기존까지와는 다른 스타일의 DatePicker 가 추가되었는데요. 아이폰 기본 알람앱을 자주 사용하는 분이라면 이미 알고 계셨을거에요 ㅎㅎ 아무튼 공부하는 김에 이 새로운 스타일의 DatePicker 도 함께 알아보도록 할게요.\nPrerequisite 먼저 실습을 위해 간단하게 ViewController 위에 DatePicker 를 올려놓았습니다.\nimport UIKit class ViewController: UIViewController { private let datePicker = UIDatePicker() override func viewDidLoad() { super.viewDidLoad() configureUI() } // MARK: - UI private func configureUI() { setAttributes() setContraints() } private func setAttributes() { datePicker.preferredDatePickerStyle = .automatic datePicker.datePickerMode = .dateAndTime datePicker.locale = Locale(identifier: \"ko-KR\") datePicker.timeZone = .autoupdatingCurrent datePicker.addTarget(self, action: #selector(handleDatePicker(_:)), for: .valueChanged) } private func setContraints() { view.addSubview(datePicker) datePicker.translatesAutoresizingMaskIntoConstraints = false NSLayoutConstraint.activate([ datePicker.leadingAnchor.constraint(equalTo: view.leadingAnchor, constant: 10), datePicker.trailingAnchor.constraint(equalTo: view.trailingAnchor, constant: -10), datePicker.centerYAnchor.constraint(equalTo: view.centerYAnchor), ]) } // MARK: - Selectors @objc private func handleDatePicker(_ sender: UIDatePicker) { print(sender.date) } } 기본적인 레이아웃 및 Target 작업을 진행해 주었습니다.\nDatePicker 는 Intrinsic Size 로 Height 값을 갖고 있으므로 따로 높이를 지정해 줄 필요가 없습니다. 즉 넓이를 세팅해주고 Picker 가 올라갈 위치만 잡아주면 된다는거에요. 그리고 DatePicker 를 Target Action 으로 구현하고자 할 때는 .valueChanged 옵션을 써야한다는 것을 꼭 기억하세요.\nBasics 그럼 DatePicker 에서 사용할 수 있는 기본적인 method 에 관해 함께 공부해보겠습니다.\nDatePicker Style iOS 14가 업데이트 되면서 DatePicker 에 새로운 스타일이 추가되었다고 했는데요. 먼저 어떤 스타일들이 있는지 함께 확인해보도록 하겠습니다. 종류는 총 3가지가 존재하며 기본값은 .automatic 으로 되어있어 시스템이 현재 뷰에 가장 알맞은 스타일을 선택해 준다고해요. 자동으로하면 나는 항상 compact 만 되는 것 같던데??\ndatePicker.preferredDatePickerStyle = .automatic 일단은 .automatic 상태로 코드를 작성해 놓았습니다. 이제 이걸 하나씩 바꿔가며 어떻게 바뀌는지 살펴볼거에요.\n.compact 아무것도 설정하지 않으면 이게 기본값처럼 실행되는 것으로 봐서는 이게 Apple 에서 가장 추천하는 최신 스타일이 아닌가해요. 다른 DatePicker 스타일에 비해서 정말 심플하기도 하고, 공간도 덜 차지한다는 장점이 있는 디자인입니다. 시간이 적혀있는 label 을 사용자가 탭하여 원하는 값으로 수정할 수 있습니다.\n.inline 이건 .compact 스타일에서 탭하면 보이는 달력을 미리 펼쳐놓은 형태에요. 그동안 Apple 에서 기본적으로 제공하는 캘린더가 없었다고 생각해보면, 이걸 어떻게 사용하느냐에 따라서 어느정도 간단한 기능의 캘린더는 대체할 수도 있지 않을까 생각이 드네요.\n.wheel 익숙한 스타일이죠. 우리가 자주 썼었던 예전 스타일의 DatePicker 도 계속 사용할 수 있습니다.\n이제 앱을 실행시켜서 원하는 날짜를 DatePicker 에서 골라보세요. Console 에 시간이 정상적으로 출력됩니다. 근데 혹시 한가지 이상한 점을 눈치채셨나요?\n콘솔에 출력되는 시간이 DatePicker 에서 고른 시각과 다르게 나오고 있어요. 이건 코드에 잘못된 부분이 있는게 아니라 기본적으로 표시되는 시간이 GMT Format 을 따르기 때문인데요.\n나중에 NSDateFormatter 를 사용해서 우리가 원하는 시간대로 출력되도록 바꿔줄 수 있습니다. DateFormatter 까지 알아보려면 포스트가 너무 길어지니 일단 지금은 그냥 넘어가고 다음에 더 자세히 알아보기로 해요 ㅎㅎ\nDatePicker Mode .preferredDatePickerStyle 이 새롭게 제공되는 기능이라면, 이전부터 제공되던 .datePickerMode 라는 기능도 있습니다.\n모드로는 총 4가지의 옵션이 존재합니다.\n.dateAndTime .date .time .countDownTimer 처음 3 가지는 이름만 봐도 비슷하다는게 느껴지나요? 날짜와 시간을 모두 고르게할지 날짜 혹은 시간만 선택할 수 있도록 할지 결정해주는 것입니다. .countDownTimer 만 조금 다른데요. 이건 method 이름처럼 사용자에게 타이머 기능을 제공하고자 할 때 사용할 수 있는 인터페이스 입니다.\nLocale .locale 은 DatePicker 에 사용하는 국가를 입력할 수 있습니다. 아무런 설정도 건드리지 않으면 아이폰 기본설정을 사용합니다.\ndatePicker.locale = Locale(identifier: \"ko-KR\") 한국으로 설정이 필요하다면 이렇게 코드를 입력하세요.\nminuteInterval .minuteInterval 은 사용자가 스크롤을 돌려 시간을 설정할 때 나타나는 분 단위 간격을 조절할 수 있습니다. 기본값은 1분으로 되어있고요. 최대 30분까지 입력이 가능합니다. 이 설정을 사용할 때는 1시간은 60분이니까 60의 약수 내에서 입력하도록 하세요.\ndatePicker.minuteInterval = 5 이렇게 설정하면 분 단위 설정이 5분 간격으로 가능합니다.\nDate 최초에 선택되어 있는 날짜를 설정할 수가 있는 method 에요! 단 DatePicker 의 Mode 가 .countDownTimer 로 설정되어 있을 때는 작동하지 않습니다.\ndatePicker.date = Date(timeIntervalSinceNow: -3600 * 24 * 3) 이렇게 코드를 입력하면 DatePicker 가 현재 날짜를 기준으로 3일 전의 날짜로 선택되어 시작합니다.\nsetDate .date 의 역할을 포함하고, 추가로 애니메이션 작동 여부를 설정하는 역할을 합니다.\ndatePicker.setDate(Date(), animated: true) 여러가지 실험을 해봤지만 어느 부분에서 애니메이션이 작동하는지 확인하기가 어렵더라고요… 나중에 혹시 알아내게 된다면 업데이트 하겠습니다.. 아무튼 이 애니메이션의 기본값은 false 라고 합니다.\nminimumDate, maximumDate 사용자가 선택할 수 있는 날짜나 시간을 한정할 수 있게 도와주는 method 입니다.\n.wheel 모드에서는 사용자가 우리가 지정해놓은 한계 이상으로 스크롤을 했을 경우 처음 기본값 상태로 되돌아오게 됩니다. 그리고 새로나온 .compact 나 .inline 모드에서는 선택할 수 있는 날짜가 연한 회색으로 비활성화되는 방식으로 사용자에게 이 날짜는 선택할 수 없다는 것을 직관적으로 알 수 있게 합니다.\nvar components = DateComponents() components.day = 10 let maxDate = Calendar.autoupdatingCurrent.date(byAdding: components, to: Date()) components.day = -10 let minDate = Calendar.autoupdatingCurrent.date(byAdding: components, to: Date()) datePicker.maximumDate = maxDate datePicker.minimumDate = minDate 위 코드를 입력하면 현재 날짜를 기준으로 앞뒤 10일까지만 선택이 가능해집니다.\n현재 날짜를 기준으로 10일 이전의 날짜가 회색으로 표시되며 비활성화 된 것이 보이죠? ㅎㅎ\nCalendar, timeZone .calendar, .timeZone 에 대한 설정은 스토리보드에서는 불가능하고 코드로만 설정이 가능한데요. 저는 코드파라 사실 불편함이 없더라고요 ㅎㅎㅎ 아무튼 이 설정에 대해서는 자세히 설명하지 않겠습니다.\nCalendar 가 아직 익숙하지 않다면 UIKit - Calendar 와 Date 기초 익히기 포스팅을 참고해주세요.\nWrap Up 오늘은 iOS 14 에서 새롭게 리뉴얼된 DatePicker 에 대해 공부해보았는데요. 날짜를 다루는데 어느정도 익숙한 분이라면 크게 어렵게 느낄만한 부분은 없었던 것 같네요. 이렇게 하나하나 파헤쳐보는게 바로 개발의 맛 아닐까요?\n다음 포스트에서는 오늘 이런 모드가 있다 얘기만 하고 넘어간 DatePicker 의 .countDownTimer 모드를 사용해 타이머를 만드는 방법에 대해 알아보도록 하겠습니다~!\n","wordCount":"847","inLanguage":"en","datePublished":"2020-10-30T17:12:51+09:00","dateModified":"2020-10-30T17:12:51+09:00","author":{"@type":"Person","name":"Doyoung Song"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://kasroid.github.io/posts/ios/20201030-uikit-date-picker/"},"publisher":{"@type":"Organization","name":"SDY - Developer Kas","logo":{"@type":"ImageObject","url":"https://kasroid.github.io/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://kasroid.github.io accesskey=h title="SDY (Alt + H)">SDY</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://kasroid.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://kasroid.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://kasroid.github.io/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://kasroid.github.io>Home</a>&nbsp;»&nbsp;<a href=https://kasroid.github.io/posts/>Posts</a>&nbsp;»&nbsp;<a href=https://kasroid.github.io/posts/ios/>iOS</a></div><h1 class=post-title>UIKit - Date Picker 사용하기, iOS 14 변경사항 정리</h1><div class=post-meta><span title='2020-10-30 17:12:51 +0900 KST'>2020-10-30</span>&nbsp;·&nbsp;Doyoung Song</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#intro>Intro</a></li><li><a href=#prerequisite>Prerequisite</a></li><li><a href=#basics>Basics</a><ul><li><a href=#datepicker-style>DatePicker Style</a></li><li><a href=#datepicker-mode>DatePicker Mode</a></li><li><a href=#locale>Locale</a></li><li><a href=#minuteinterval>minuteInterval</a></li><li><a href=#date>Date</a></li><li><a href=#setdate>setDate</a></li><li><a href=#minimumdate-maximumdate>minimumDate, maximumDate</a></li><li><a href=#calendar-timezone>Calendar, timeZone</a></li></ul></li><li><a href=#wrap-up>Wrap Up</a></li></ul></nav></div></details></div><div class=post-content><blockquote><p>본 포스팅은 다음 버전을 기준으로 작성되었습니다.</p><ul><li>Swift 5.3</li><li>iOS 14.1</li></ul></blockquote><h2 id=intro>Intro<a hidden class=anchor aria-hidden=true href=#intro>#</a></h2><p>이전 포스트에서 <code>Date</code> 에 관해 알아보았으니 이번에는 사용자가 아이폰에서 날짜를 고를 때 자주 마주치게되는 인터페이스 중 하나인 <code>DatePicker</code> 에 대해 같이 공부해보겠습니다.</p><p><strong>iOS 14 가 업데이트 되면서</strong> 기존까지와는 다른 스타일의 <code>DatePicker</code> 가 추가되었는데요. 아이폰 기본 알람앱을 자주 사용하는 분이라면 이미 알고 계셨을거에요 ㅎㅎ
아무튼 공부하는 김에 이 새로운 스타일의 <code>DatePicker</code> 도 함께 알아보도록 할게요.</p><hr><h2 id=prerequisite>Prerequisite<a hidden class=anchor aria-hidden=true href=#prerequisite>#</a></h2><p>먼저 실습을 위해 간단하게 <strong>ViewController</strong> 위에 <code>DatePicker</code> 를 올려놓았습니다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-swift data-lang=swift><span class=line><span class=cl><span class=kd>import</span> <span class=nc>UIKit</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>ViewController</span><span class=p>:</span> <span class=n>UIViewController</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kd>let</span> <span class=nv>datePicker</span> <span class=p>=</span> <span class=n>UIDatePicker</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kr>override</span> <span class=kd>func</span> <span class=nf>viewDidLoad</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kc>super</span><span class=p>.</span><span class=n>viewDidLoad</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>configureUI</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// </span><span class=cs>MARK:</span><span class=c1> - UI</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kd>func</span> <span class=nf>configureUI</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>setAttributes</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>setContraints</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kd>func</span> <span class=nf>setAttributes</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>datePicker</span><span class=p>.</span><span class=n>preferredDatePickerStyle</span> <span class=p>=</span> <span class=p>.</span><span class=n>automatic</span>
</span></span><span class=line><span class=cl>        <span class=n>datePicker</span><span class=p>.</span><span class=n>datePickerMode</span> <span class=p>=</span> <span class=p>.</span><span class=n>dateAndTime</span>
</span></span><span class=line><span class=cl>        <span class=n>datePicker</span><span class=p>.</span><span class=n>locale</span> <span class=p>=</span> <span class=n>Locale</span><span class=p>(</span><span class=n>identifier</span><span class=p>:</span> <span class=s>&#34;ko-KR&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>datePicker</span><span class=p>.</span><span class=n>timeZone</span> <span class=p>=</span> <span class=p>.</span><span class=n>autoupdatingCurrent</span>
</span></span><span class=line><span class=cl>        <span class=n>datePicker</span><span class=p>.</span><span class=n>addTarget</span><span class=p>(</span><span class=kc>self</span><span class=p>,</span> <span class=n>action</span><span class=p>:</span> <span class=k>#selector</span><span class=p>(</span><span class=n>handleDatePicker</span><span class=p>(</span><span class=kc>_</span><span class=p>:)),</span> <span class=k>for</span><span class=p>:</span> <span class=p>.</span><span class=n>valueChanged</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kd>func</span> <span class=nf>setContraints</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>view</span><span class=p>.</span><span class=n>addSubview</span><span class=p>(</span><span class=n>datePicker</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>datePicker</span><span class=p>.</span><span class=n>translatesAutoresizingMaskIntoConstraints</span> <span class=p>=</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>        <span class=n>NSLayoutConstraint</span><span class=p>.</span><span class=n>activate</span><span class=p>([</span>
</span></span><span class=line><span class=cl>            <span class=n>datePicker</span><span class=p>.</span><span class=n>leadingAnchor</span><span class=p>.</span><span class=n>constraint</span><span class=p>(</span><span class=n>equalTo</span><span class=p>:</span> <span class=n>view</span><span class=p>.</span><span class=n>leadingAnchor</span><span class=p>,</span> <span class=n>constant</span><span class=p>:</span> <span class=mi>10</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=n>datePicker</span><span class=p>.</span><span class=n>trailingAnchor</span><span class=p>.</span><span class=n>constraint</span><span class=p>(</span><span class=n>equalTo</span><span class=p>:</span> <span class=n>view</span><span class=p>.</span><span class=n>trailingAnchor</span><span class=p>,</span> <span class=n>constant</span><span class=p>:</span> <span class=o>-</span><span class=mi>10</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=n>datePicker</span><span class=p>.</span><span class=n>centerYAnchor</span><span class=p>.</span><span class=n>constraint</span><span class=p>(</span><span class=n>equalTo</span><span class=p>:</span> <span class=n>view</span><span class=p>.</span><span class=n>centerYAnchor</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=p>])</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// </span><span class=cs>MARK:</span><span class=c1> - Selectors</span>
</span></span><span class=line><span class=cl>    <span class=kr>@objc</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kd>func</span> <span class=nf>handleDatePicker</span><span class=p>(</span><span class=kc>_</span> <span class=n>sender</span><span class=p>:</span> <span class=n>UIDatePicker</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=bp>print</span><span class=p>(</span><span class=n>sender</span><span class=p>.</span><span class=n>date</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>기본적인 <strong>레이아웃 및 Target 작업</strong>을 진행해 주었습니다.</p><p><code>DatePicker</code> 는 <strong>Intrinsic Size</strong> 로 <strong>Height 값</strong>을 갖고 있으므로 따로 높이를 지정해 줄 필요가 없습니다.
즉 넓이를 세팅해주고 <strong>Picker</strong> 가 올라갈 위치만 잡아주면 된다는거에요. 그리고 <code>DatePicker</code> 를 <strong>Target Action</strong> 으로 구현하고자 할 때는 <code>.valueChanged</code> 옵션을 써야한다는 것을 꼭 기억하세요.</p><hr><h2 id=basics>Basics<a hidden class=anchor aria-hidden=true href=#basics>#</a></h2><p>그럼 <code>DatePicker</code> 에서 사용할 수 있는 기본적인 method 에 관해 함께 공부해보겠습니다.</p><h3 id=datepicker-style>DatePicker Style<a hidden class=anchor aria-hidden=true href=#datepicker-style>#</a></h3><p>iOS 14가 업데이트 되면서 <code>DatePicker</code> 에 새로운 스타일이 추가되었다고 했는데요. 먼저 어떤 스타일들이 있는지 함께 확인해보도록 하겠습니다.
종류는 <strong>총 3가지</strong>가 존재하며 기본값은 <code>.automatic</code> 으로 되어있어 시스템이 현재 뷰에 가장 알맞은 스타일을 선택해 준다고해요. <del>자동으로하면 나는 항상 compact 만 되는 것 같던데??</del></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-swift data-lang=swift><span class=line><span class=cl><span class=n>datePicker</span><span class=p>.</span><span class=n>preferredDatePickerStyle</span> <span class=p>=</span> <span class=p>.</span><span class=n>automatic</span>
</span></span></code></pre></div><p>일단은 <code>.automatic</code> 상태로 코드를 작성해 놓았습니다. 이제 이걸 하나씩 바꿔가며 어떻게 바뀌는지 살펴볼거에요.</p><h4 id=compact>.compact<a hidden class=anchor aria-hidden=true href=#compact>#</a></h4><p>아무것도 설정하지 않으면 이게 기본값처럼 실행되는 것으로 봐서는 이게 <strong>Apple</strong> 에서 가장 추천하는 최신 스타일이 아닌가해요.
다른 <strong>DatePicker 스타일</strong>에 비해서 정말 심플하기도 하고, 공간도 덜 차지한다는 장점이 있는 디자인입니다.
시간이 적혀있는 <strong>label</strong> 을 사용자가 탭하여 원하는 값으로 수정할 수 있습니다.</p><p><img loading=lazy src=https://user-images.githubusercontent.com/41736472/97766445-b2c18b80-1b59-11eb-9fcb-38d362673fdb.png alt="compact 스타일"></p><h4 id=inline>.inline<a hidden class=anchor aria-hidden=true href=#inline>#</a></h4><p>이건 <code>.compact</code> 스타일에서 탭하면 보이는 달력을 미리 펼쳐놓은 형태에요.
그동안 <strong>Apple</strong> 에서 기본적으로 제공하는 캘린더가 없었다고 생각해보면, 이걸 어떻게 사용하느냐에 따라서 어느정도 간단한 기능의 캘린더는 대체할 수도 있지 않을까 생각이 드네요.</p><p><img loading=lazy src=https://user-images.githubusercontent.com/41736472/97766447-b48b4f00-1b59-11eb-8c6d-256b758f0eaa.png alt="inline 스타일"></p><h4 id=wheel>.wheel<a hidden class=anchor aria-hidden=true href=#wheel>#</a></h4><p>익숙한 스타일이죠. 우리가 자주 썼었던 예전 스타일의 <code>DatePicker</code> 도 계속 사용할 수 있습니다.</p><p><img loading=lazy src=https://user-images.githubusercontent.com/41736472/97766449-b5bc7c00-1b59-11eb-8b1e-d2daf9c76113.png alt="wheel 스타일"></p><p>이제 앱을 실행시켜서 원하는 날짜를 <code>DatePicker</code> 에서 골라보세요. <strong>Console</strong> 에 시간이 정상적으로 출력됩니다. 근데 혹시 한가지 이상한 점을 눈치채셨나요?</p><p>콘솔에 출력되는 시간이 <strong>DatePicker</strong> 에서 고른 시각과 다르게 나오고 있어요. 이건 코드에 잘못된 부분이 있는게 아니라 기본적으로 표시되는 시간이 <strong>GMT Format</strong> 을 따르기 때문인데요.</p><p>나중에 <code>NSDateFormatter</code> 를 사용해서 우리가 원하는 시간대로 출력되도록 바꿔줄 수 있습니다.
<strong>DateFormatter</strong> 까지 알아보려면 포스트가 너무 길어지니 일단 지금은 그냥 넘어가고 다음에 더 자세히 알아보기로 해요 ㅎㅎ</p><hr><h3 id=datepicker-mode>DatePicker Mode<a hidden class=anchor aria-hidden=true href=#datepicker-mode>#</a></h3><p><code>.preferredDatePickerStyle</code> 이 새롭게 제공되는 기능이라면, 이전부터 제공되던 <code>.datePickerMode</code> 라는 기능도 있습니다.</p><p>모드로는 <strong>총 4가지</strong>의 옵션이 존재합니다.</p><ul><li>.dateAndTime</li><li>.date</li><li>.time</li><li>.countDownTimer</li></ul><p>처음 3 가지는 이름만 봐도 비슷하다는게 느껴지나요? 날짜와 시간을 모두 고르게할지 날짜 혹은 시간만 선택할 수 있도록 할지 결정해주는 것입니다.
<code>.countDownTimer</code> 만 조금 다른데요. 이건 method 이름처럼 사용자에게 타이머 기능을 제공하고자 할 때 사용할 수 있는 인터페이스 입니다.</p><hr><h3 id=locale>Locale<a hidden class=anchor aria-hidden=true href=#locale>#</a></h3><p><code>.locale</code> 은 <code>DatePicker</code> 에 사용하는 국가를 입력할 수 있습니다. 아무런 설정도 건드리지 않으면 아이폰 기본설정을 사용합니다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-swift data-lang=swift><span class=line><span class=cl><span class=n>datePicker</span><span class=p>.</span><span class=n>locale</span> <span class=p>=</span> <span class=n>Locale</span><span class=p>(</span><span class=n>identifier</span><span class=p>:</span> <span class=s>&#34;ko-KR&#34;</span><span class=p>)</span>
</span></span></code></pre></div><p>한국으로 설정이 필요하다면 이렇게 코드를 입력하세요.</p><hr><h3 id=minuteinterval>minuteInterval<a hidden class=anchor aria-hidden=true href=#minuteinterval>#</a></h3><p><code>.minuteInterval</code> 은 사용자가 스크롤을 돌려 시간을 설정할 때 나타나는 분 단위 간격을 조절할 수 있습니다. 기본값은 1분으로 되어있고요. 최대 30분까지 입력이 가능합니다.
이 설정을 사용할 때는 1시간은 60분이니까 60의 약수 내에서 입력하도록 하세요.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-swift data-lang=swift><span class=line><span class=cl><span class=n>datePicker</span><span class=p>.</span><span class=n>minuteInterval</span> <span class=p>=</span> <span class=mi>5</span>
</span></span></code></pre></div><p>이렇게 설정하면 분 단위 설정이 5분 간격으로 가능합니다.</p><hr><h3 id=date>Date<a hidden class=anchor aria-hidden=true href=#date>#</a></h3><p>최초에 선택되어 있는 날짜를 설정할 수가 있는 method 에요! 단 <strong>DatePicker</strong> 의 Mode 가 <code>.countDownTimer</code> 로 설정되어 있을 때는 작동하지 않습니다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-swift data-lang=swift><span class=line><span class=cl><span class=n>datePicker</span><span class=p>.</span><span class=n>date</span> <span class=p>=</span> <span class=n>Date</span><span class=p>(</span><span class=n>timeIntervalSinceNow</span><span class=p>:</span> <span class=o>-</span><span class=mi>3600</span> <span class=o>*</span> <span class=mi>24</span> <span class=o>*</span> <span class=mi>3</span><span class=p>)</span>
</span></span></code></pre></div><p>이렇게 코드를 입력하면 <strong>DatePicker</strong> 가 현재 날짜를 기준으로 3일 전의 날짜로 선택되어 시작합니다.</p><hr><h3 id=setdate>setDate<a hidden class=anchor aria-hidden=true href=#setdate>#</a></h3><p><code>.date</code> 의 역할을 포함하고, 추가로 애니메이션 작동 여부를 설정하는 역할을 합니다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-swift data-lang=swift><span class=line><span class=cl><span class=n>datePicker</span><span class=p>.</span><span class=n>setDate</span><span class=p>(</span><span class=n>Date</span><span class=p>(),</span> <span class=n>animated</span><span class=p>:</span> <span class=kc>true</span><span class=p>)</span>
</span></span></code></pre></div><p>여러가지 실험을 해봤지만 어느 부분에서 애니메이션이 작동하는지 확인하기가 어렵더라고요&mldr; 나중에 혹시 알아내게 된다면 업데이트 하겠습니다.. 아무튼 이 애니메이션의 기본값은 <code>false</code> 라고 합니다.</p><hr><h3 id=minimumdate-maximumdate>minimumDate, maximumDate<a hidden class=anchor aria-hidden=true href=#minimumdate-maximumdate>#</a></h3><p>사용자가 선택할 수 있는 날짜나 시간을 한정할 수 있게 도와주는 method 입니다.</p><p><code>.wheel</code> 모드에서는 사용자가 우리가 지정해놓은 한계 이상으로 스크롤을 했을 경우 처음 기본값 상태로 되돌아오게 됩니다.
그리고 새로나온 <code>.compact</code> 나 <code>.inline</code> 모드에서는 선택할 수 있는 날짜가 <strong>연한 회색으로 비활성화</strong>되는 방식으로 사용자에게 이 날짜는 선택할 수 없다는 것을 직관적으로 알 수 있게 합니다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-swift data-lang=swift><span class=line><span class=cl><span class=kd>var</span> <span class=nv>components</span> <span class=p>=</span> <span class=n>DateComponents</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>components</span><span class=p>.</span><span class=n>day</span> <span class=p>=</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nv>maxDate</span> <span class=p>=</span> <span class=n>Calendar</span><span class=p>.</span><span class=n>autoupdatingCurrent</span><span class=p>.</span><span class=n>date</span><span class=p>(</span><span class=n>byAdding</span><span class=p>:</span> <span class=n>components</span><span class=p>,</span> <span class=n>to</span><span class=p>:</span> <span class=n>Date</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=n>components</span><span class=p>.</span><span class=n>day</span> <span class=p>=</span> <span class=o>-</span><span class=mi>10</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nv>minDate</span> <span class=p>=</span> <span class=n>Calendar</span><span class=p>.</span><span class=n>autoupdatingCurrent</span><span class=p>.</span><span class=n>date</span><span class=p>(</span><span class=n>byAdding</span><span class=p>:</span> <span class=n>components</span><span class=p>,</span> <span class=n>to</span><span class=p>:</span> <span class=n>Date</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>datePicker</span><span class=p>.</span><span class=n>maximumDate</span> <span class=p>=</span> <span class=n>maxDate</span>
</span></span><span class=line><span class=cl><span class=n>datePicker</span><span class=p>.</span><span class=n>minimumDate</span> <span class=p>=</span> <span class=n>minDate</span>
</span></span></code></pre></div><p>위 코드를 입력하면 현재 날짜를 기준으로 앞뒤 10일까지만 선택이 가능해집니다.</p><p><img loading=lazy src=https://user-images.githubusercontent.com/41736472/97772023-24afca00-1b86-11eb-8638-fee75e87c416.png alt="시뮬레이터 실행결과"></p><p>현재 날짜를 기준으로 10일 이전의 날짜가 회색으로 표시되며 비활성화 된 것이 보이죠? ㅎㅎ</p><hr><h3 id=calendar-timezone>Calendar, timeZone<a hidden class=anchor aria-hidden=true href=#calendar-timezone>#</a></h3><p><code>.calendar</code>, <code>.timeZone</code> 에 대한 설정은 스토리보드에서는 불가능하고 코드로만 설정이 가능한데요. 저는 코드파라 사실 불편함이 없더라고요 ㅎㅎㅎ 아무튼 이 설정에 대해서는 자세히 설명하지 않겠습니다.</p><p><strong>Calendar</strong> 가 아직 익숙하지 않다면 <strong><a href=https://kasroid.github.io/posts/ios/20201026-uikit-handling-date/>UIKit - Calendar 와 Date 기초 익히기</a></strong> 포스팅을 참고해주세요.</p><hr><h2 id=wrap-up>Wrap Up<a hidden class=anchor aria-hidden=true href=#wrap-up>#</a></h2><p>오늘은 <strong>iOS 14</strong> 에서 새롭게 리뉴얼된 <code>DatePicker</code> 에 대해 공부해보았는데요. 날짜를 다루는데 어느정도 익숙한 분이라면 크게 어렵게 느낄만한 부분은 없었던 것 같네요.
이렇게 하나하나 파헤쳐보는게 바로 <strong>개발의 맛</strong> 아닐까요?</p><p>다음 포스트에서는 오늘 이런 모드가 있다 얘기만 하고 넘어간 <code>DatePicker</code> 의 <code>.countDownTimer</code> 모드를 사용해 타이머를 만드는 방법에 대해 알아보도록 하겠습니다~!</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://kasroid.github.io/tags/uikit/>UIKit</a></li><li><a href=https://kasroid.github.io/tags/datepicker/>DatePicker</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://kasroid.github.io>SDY - Developer Kas</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>
<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>WebKit - 카카오 우편번호 서비스 구현하기 with UIKit | SDY - Developer Kas</title><meta name=keywords content="UIKit,Webkit,Kakao"><meta name=description content="본 포스팅은 Swift 5.3 기준으로 작성되었습니다.
Intro 저는 요새 Market Kurly 앱을 클론하는 프로젝트를 진행하고 있는데요. 회원가입 부분에서 Kakao 우편변호 찾기 기능을 지원하더라고요. 사용자로서는 분명히 사용해본 경험이 있는 것 같은데 막상 구현하는 방법은 배운적도 생각해본 적도 없었습니다 ㅎㅎ 어쨌든 중요한건 지금 어떻게든 구현을 해야한다는 것이고, 마켓컬리앱이 아니더라도 회원가입을 필요로하는 서비스라면 많이 지원하고 있는 기능이니까 잘 공부해서 정리해두면 나중에 쓸데가 많을 것 같아 포스팅을 남깁니다.
서비스 확인하기 Kakao 우편번호 서비스 웹페이지 에 접속해보면 평소 우리가 회원가입을 할 때 자주 볼 수 있었던 화면이 하나 보일거에요."><meta name=author content="Doyoung Song"><link rel=canonical href=https://kasroid.github.io/posts/ios/20200916-webkit-search-address-with-kakao-with-uikit/><meta name=google-site-verification content="43_MOEW0diGtfoxWtXZ65iT24CFf_i63QMcMBiLkAUs"><link crossorigin=anonymous href=/assets/css/stylesheet.e25c039fcca7cb994b37c6f8ebbbca4c2f45a76107a5c9cf00996f9649d57ca6.css integrity="sha256-4lwDn8yny5lLN8b467vKTC9Fp2EHpcnPAJlvlknVfKY=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://kasroid.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://kasroid.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://kasroid.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://kasroid.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://kasroid.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-177150852-1","auto"),ga("send","pageview"))</script><meta property="og:title" content="WebKit - 카카오 우편번호 서비스 구현하기 with UIKit"><meta property="og:description" content="본 포스팅은 Swift 5.3 기준으로 작성되었습니다.
Intro 저는 요새 Market Kurly 앱을 클론하는 프로젝트를 진행하고 있는데요. 회원가입 부분에서 Kakao 우편변호 찾기 기능을 지원하더라고요. 사용자로서는 분명히 사용해본 경험이 있는 것 같은데 막상 구현하는 방법은 배운적도 생각해본 적도 없었습니다 ㅎㅎ 어쨌든 중요한건 지금 어떻게든 구현을 해야한다는 것이고, 마켓컬리앱이 아니더라도 회원가입을 필요로하는 서비스라면 많이 지원하고 있는 기능이니까 잘 공부해서 정리해두면 나중에 쓸데가 많을 것 같아 포스팅을 남깁니다.
서비스 확인하기 Kakao 우편번호 서비스 웹페이지 에 접속해보면 평소 우리가 회원가입을 할 때 자주 볼 수 있었던 화면이 하나 보일거에요."><meta property="og:type" content="article"><meta property="og:url" content="https://kasroid.github.io/posts/ios/20200916-webkit-search-address-with-kakao-with-uikit/"><meta property="og:image" content="https://kasroid.github.io/%3Cimage%20path/url%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-09-16T19:04:53+09:00"><meta property="article:modified_time" content="2020-09-16T19:04:53+09:00"><meta property="og:site_name" content="SDY - Dev Log"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://kasroid.github.io/%3Cimage%20path/url%3E"><meta name=twitter:title content="WebKit - 카카오 우편번호 서비스 구현하기 with UIKit"><meta name=twitter:description content="본 포스팅은 Swift 5.3 기준으로 작성되었습니다.
Intro 저는 요새 Market Kurly 앱을 클론하는 프로젝트를 진행하고 있는데요. 회원가입 부분에서 Kakao 우편변호 찾기 기능을 지원하더라고요. 사용자로서는 분명히 사용해본 경험이 있는 것 같은데 막상 구현하는 방법은 배운적도 생각해본 적도 없었습니다 ㅎㅎ 어쨌든 중요한건 지금 어떻게든 구현을 해야한다는 것이고, 마켓컬리앱이 아니더라도 회원가입을 필요로하는 서비스라면 많이 지원하고 있는 기능이니까 잘 공부해서 정리해두면 나중에 쓸데가 많을 것 같아 포스팅을 남깁니다.
서비스 확인하기 Kakao 우편번호 서비스 웹페이지 에 접속해보면 평소 우리가 회원가입을 할 때 자주 볼 수 있었던 화면이 하나 보일거에요."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://kasroid.github.io/posts/"},{"@type":"ListItem","position":3,"name":"iOS","item":"https://kasroid.github.io/posts/ios/"},{"@type":"ListItem","position":4,"name":"WebKit - 카카오 우편번호 서비스 구현하기 with UIKit","item":"https://kasroid.github.io/posts/ios/20200916-webkit-search-address-with-kakao-with-uikit/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"WebKit - 카카오 우편번호 서비스 구현하기 with UIKit","name":"WebKit - 카카오 우편번호 서비스 구현하기 with UIKit","description":"본 포스팅은 Swift 5.3 기준으로 작성되었습니다.\nIntro 저는 요새 Market Kurly 앱을 클론하는 프로젝트를 진행하고 있는데요. 회원가입 부분에서 Kakao 우편변호 찾기 기능을 지원하더라고요. 사용자로서는 분명히 사용해본 경험이 있는 것 같은데 막상 구현하는 방법은 배운적도 생각해본 적도 없었습니다 ㅎㅎ 어쨌든 중요한건 지금 어떻게든 구현을 해야한다는 것이고, 마켓컬리앱이 아니더라도 회원가입을 필요로하는 서비스라면 많이 지원하고 있는 기능이니까 잘 공부해서 정리해두면 나중에 쓸데가 많을 것 같아 포스팅을 남깁니다.\n서비스 확인하기 Kakao 우편번호 서비스 웹페이지 에 접속해보면 평소 우리가 회원가입을 할 때 자주 볼 수 있었던 화면이 하나 보일거에요.","keywords":["UIKit","Webkit","Kakao"],"articleBody":" 본 포스팅은 Swift 5.3 기준으로 작성되었습니다.\nIntro 저는 요새 Market Kurly 앱을 클론하는 프로젝트를 진행하고 있는데요. 회원가입 부분에서 Kakao 우편변호 찾기 기능을 지원하더라고요. 사용자로서는 분명히 사용해본 경험이 있는 것 같은데 막상 구현하는 방법은 배운적도 생각해본 적도 없었습니다 ㅎㅎ 어쨌든 중요한건 지금 어떻게든 구현을 해야한다는 것이고, 마켓컬리앱이 아니더라도 회원가입을 필요로하는 서비스라면 많이 지원하고 있는 기능이니까 잘 공부해서 정리해두면 나중에 쓸데가 많을 것 같아 포스팅을 남깁니다.\n서비스 확인하기 Kakao 우편번호 서비스 웹페이지 에 접속해보면 평소 우리가 회원가입을 할 때 자주 볼 수 있었던 화면이 하나 보일거에요.\n먼저 안내를 읽어보니 모든 조건에서 무료로 사용가능하고 별다른 요구사항도 없는 것 같네요. 그냥 가져다쓰고 WebView 형태로 앱 내에서 띄워주면 될 것 같습니다. 그럼 바로 구현을 시작해볼까요? ㅎㅎ\n구현하기 저도 완전히 처음 시도해보는 과정이다보니 어디서부터 접근해야할지 감이 오지않아 검색할 수 있는만큼 최대한 찾아봤지만 Swift 로는 카카오 우편번호 서비스 구현방법을 상세히 정리해둔 곳을 찾지 못해 공부하는데 애를 정말 많이 먹었습니다.\n아무튼 구현을 위한 순서를 정리해보면 우편번호 서비스가 구현된 웹페이지 주소가 있어야하고, 그 주소를 기반으로 Xcode 에서 WebView 를 이용해 웹페이지를 띄워주어야 합니다. 그래서 오늘 포스팅은 이런 순서로 진행될거에요.\nGithub Pages 를 사용해 카카오 우편번호 서비스 웹페이지 구현 Xcode 에서 WebView 를 사용해 웹페이지 띄우기 그럼 순서대로 차근차근 구현을 시작해볼게요.\nGithub Pages 를 사용해 카카오 우편번호 서비스 웹페이지 만들기 카카오 우편번호 서비스를 웹페이지에 구현할 수 있는 방법은 여러가지가 있겠지만 이번 포스팅에서는 Github Pages 를 사용해 웹페이지를 생성하겠습니다. Github 에 접속해서 Repo 를 하나 만들어주세요. 저는 Kakao-Postcode 라고 생성했습니다.\n생성된 Repo 의 Setting 카테고리로 들어가 스크롤을 내리다보면 Github Pages 라는 항목이 보일거에요. 이곳에서 Source 로 master branch 를 선택하고 save 버튼을 눌러줍니다.\nSave 버튼을 누르면 페이지가 리프레시 되는데 다시 Github Pages 항목이 있는 곳으로 돌아가보면 우리가 생성한 웹페이지의 주소를 얻을 수 있습니다.\n생성된 주소로 들어가보면 404 에러 페이지가 보일거에요. 지금은 우리가 아무 내용도 입력하지 않았으므로 이렇게 뜨는게 정상입니다.\n다시 Github 으로 돌아와 Create new file 을 클릭합니다.\n그리고 파일의 이름을 정확하게 index.html 이라고 입력해주세요. Github Pages 는 index.html 이라는 파일을 자동적으로 찾아서 웹페이지로 생성해줍니다.\n이제 웹페이지 구현에 필요한 html 코드를 입력하면 됩니다. 포스팅 초반에 보았던 공식 카카오 우편번호 서비스 웹페이지를 보면 통합로딩방식 항목을 찾을 수 있고 이걸 갖다 붙여넣으면 바로 구현이 되긴하지만 POP-UP 방식으로 구현된다는 문제점이 있습니다.\n그래서 주소를 입력했을 때 팝업 방식이 아닌 페이지가 바로 보일 수 있도록 구현된 코드가 필요합니다. index.html 본문에 아래 코드를 입력하고 저장해주세요.\n\u003c!DOCTYPE html\u003e \u003chtml lang=\"ko\"\u003e \u003chead\u003e \u003ctitle\u003e주소 찾기\u003c/title\u003e \u003cmeta charset=\"UTF-8\" /\u003e \u003cmeta name=\"viewport\" content=\"width=device-width,height=device-height,initial-scale=1.0\" /\u003e \u003c/head\u003e \u003cbody onload=\"execDaumPostcode()\"\u003e \u003cdiv id=\"layer\" style=\"display:block; position:absolute; overflow:hidden; z-index:1; -webkit-overflow-scrolling:touch; \" \u003e\u003c/div\u003e \u003cscript src=\"https://spi.maps.daum.net/imap/map_js_init/postcode.v2.js\"\u003e\u003c/script\u003e \u003cscript\u003e window.addEventListener(\"message\", onReceivedPostMessage, false); function onReceivedPostMessage(event) { //..ex deconstruct event into action \u0026 params var action = event.data.action; var params = event.data.params; console.log(\"onReceivedPostMessage \" + event); } function onReceivedActivityMessageViaJavascriptInterface(json) { //..ex deconstruct data into action \u0026 params var data = JSON.parse(json); var action = data.action; var params = data.params; console.log(\"onReceivedActivityMessageViaJavascriptInterface \" + event); } function postMessageToiOS(postData) { window.webkit.messageHandlers.callBackHandler.postMessage(postData); } var element_layer = document.getElementById(\"layer\"); function execDaumPostcode() { new daum.Postcode({ oncomplete: function (data) { var jibunAddress = \"\"; if (data.jibunAddress == \"\") { jibunAddress = data.autoJibunAddress; } else if (data.autoJibunAddress == \"\") { jibunAddress = data.jibunAddress; } var postData = { roadAddress: data.roadAddress, jibunAddress: jibunAddress, zonecode: data.zonecode, }; window.postMessageToiOS(postData); }, width: \"100%\", height: \"100%\", }).embed(element_layer); element_layer.style.display = \"block\"; initLayerPosition(); } function initLayerPosition() { var width = window.innerWidth || document.documentElement.clientWidth; var height = window.innerHeight || document.documentElement.clientHeight; element_layer.style.width = width + \"px\"; element_layer.style.height = height + \"px\"; element_layer.style.left = ((window.innerWidth || document.documentElement.clientWidth) - width) / 2 + \"px\"; element_layer.style.top = ((window.innerHeight || document.documentElement.clientHeight) - height) / 2 + \"px\"; } \u003c/script\u003e \u003c/body\u003e \u003c/html\u003e 적용되는데 시간이 조금 필요하기 때문에 잠시 기다리고나서 Github Pages 주소로 들어가보면 우리가 구현하고자 했던 카카오 우편번호 서비스 화면이 보일거에요!\n혹시 계속 기다려봐도 안된다면 Repo 의 이름을 한번 변경해주세요. 분명히 잘못된 부분이 없는데 계속 페이지 오류가 뜨길래 Repo 이름을 바꿔보니까 이후부터 웹페이지가 정상적으로 뜨기 시작했습니다.\n잘 나오나요~? ㅎㅎ 이제 Xcode 에서 WebKit 을 이용해 이 페이지를 띄워주면 됩니다.\nWebView 로 카카오 우편번호 서비스 웹페이지 표시하기 Xcode Project 를 하나 만들어 실습을 시작해볼게요. 먼저 간단하게 뷰를 세팅하겠습니다.\nSetup View View 위에 Button 과 Label 을 하나씩 올려놓았어요. Button 을 누르면 카카오 우편번호 서비스 창이 뜨고, 이곳에서 주소를 입력받은 뒤 Label 에 표시될 수 있도록 데이터를 전달해 볼거에요.\nimport UIKit class ViewController: UIViewController { // MARK: - Properties let button = UIButton(type: .system) let label = UILabel() // MARK: - Lifecycle override func viewDidLoad() { super.viewDidLoad() configureUI() } // MARK: - UI private func configureUI() { setContraints() setAttributes() } private func setAttributes() { button.setTitle(\"Button\", for: .normal) button.addTarget(self, action: #selector(handleButton(_:)), for: .touchUpInside) label.text = \"Label\" label.font = UIFont.systemFont(ofSize: 20) } private func setContraints() { [button, label].forEach { view.addSubview($0) $0.translatesAutoresizingMaskIntoConstraints = false } NSLayoutConstraint.activate([ button.centerXAnchor.constraint(equalTo: view.centerXAnchor), button.centerYAnchor.constraint(equalTo: view.centerYAnchor), label.centerXAnchor.constraint(equalTo: view.centerXAnchor), label.bottomAnchor.constraint(equalTo: button.topAnchor, constant: -40), ]) } // MARK: - Selectors @objc private func handleButton(_ sender: UIButton) { print(#function) } } 코드를 작성하고 Simulator 를 실행해보면 이렇게 보입니다.\n카카오 우편번호 서비스 구현하기 기본적인 뷰 세팅은 마쳤으니 본격적으로 우편번호 서비스 구현을 위한 코드를 작성해보도록 할게요. 서비스가 보여질 새로운 UIViewController 를 하나 생성해줍니다. 저는 KakaoZipCodeVC 라고 만들었어요~\n이제 이곳에 조금 전 Github Pages 를 사용해 미리 만들어둔 페이지를 WebView 를 사용해서 띄워줄거에요. 그러니까 WebView 를 사용하기 위해 WebKit 을 import 해주도록 할게요.\nimport WebKit 그리고 WKWebView 인스턴스를 optional 로 미리 하나 생성하고, webView 가 로딩될 동안 보여줄 UIActivityIndicatorView 도 인스턴스를 생성하겠습니다. 나중에 사용자가 선택한 주소를 저장할 변수도 하나 생성할게요.\nvar webView: WKWebView? let indicator = UIActivityIndicatorView(style: .medium) var address = \"\" 인스턴스 생성까지 마쳤고 Java Script 를 읽을 수 있게 도와주는 WKUserContentController 를 생성해야합니다. 처음보는 클래스니까 공식문서를 먼저 한번 볼까요.\n특별한 내용은 없고 Java Script 가 메세지를 Post 할 수 있게 도와준다고 나와있네요. 우리가 Github Pages 에 작성한 html 이 Java Script 를 불러오는 내용이니까 이걸 쓰는게 맞을 것 같아요.\nlet contentController = WKUserContentController() 인스턴스를 생성해줬으니 이제 Java Script 가 보내는 메세지를 읽을 수 있어야 합니다. 여기서 메세지란 사용자가 선택한 정보가 무엇인지 우리가 받는 것을 뜻하겠죠?\n아무튼 이 메세지를 받으려면 WKUserContentController 가 제공하는 add(_:name:) method 를 사용해야 하는데요.\n이 method 를 사용하기 위해서는 WKScriptMessageHandler 프로토콜을 채택해주어야 합니다. 그리고 이 프로토콜을 채택하면 필수적으로 구현해야하는 userContentController(_:didReceive:) method 도 구현하도록 할게요.\n프로토콜을 채택하기 전에 add(_:name:) method 의 공식문서를 잠시 살펴봤는데…\nScript Message Handler 를 추가한다고 합니다. Hanlder 가 있어야 Java Script 가 보내는 Message 를 정상적으로 수신할 수 있는 것 같아요.\nWKScriptMessageHandler 프로토콜 채택 WKScriptMessageHandler 를 채택하고 필수함수를 구현했습니다.\nextension KakaoZipCodeVC: WKScriptMessageHandler { func userContentController(_ userContentController: WKUserContentController, didReceive message: WKScriptMessage) { } } 직접 실험을 해보니 이 함수가 호출되는 타이밍은 유저가 주소를 검색하고 어떤 값을 최종적으로 선택했을 때 호출되게 됩니다.\n프로토콜을 채택했으니 add(_:name:) method 를 사용할 수 있게 되었어요. 다시 contentController 를 인스턴스화 한곳으로 돌아가 코드를 입력해주세요.\ncontentController.add(self, name: \"callBackHandler\") 이제 초반에 optional 로 생성해두었던 WKWebView 를 인스턴스화 해주어야하는데요. 그 전에 먼저 방금 생성한 contentController 를 WKWebView 와 연결할 수 있도록 도와주는 WKWebViewConfiguration 이 필요합니다.\nlet configuration = WKWebViewConfiguration() configuration.userContentController = contentController webView 를 인스턴스화 해줍니다. 레이아웃은 아래에서 오토레이아웃으로 잡을거니까 .zero 로 세팅하고 방금 만들어둔 configuration 을 연결합니다.\nwebView = WKWebView(frame: .zero, configuration: configuration) webView 가 로드될 때 indicator 를 보여줄 수 있도록 WKNavigationDelegate 프로토콜을 채택하고 코드를 구현해보겠습니다.\nextension KakaoZipCodeVC: WKNavigationDelegate { func webView(_ webView: WKWebView, didStartProvisionalNavigation navigation: WKNavigation!) { indicator.startAnimating() } func webView(_ webView: WKWebView, didFinish navigation: WKNavigation!) { indicator.stopAnimating() } } 함수의 Parameter 이름만 봐도 알 수 있듯이\nwebView(_:didStartProvisionalNavigation:) 는 webView 의 로드가 시작될 때 webView(_:didFinish:) 는 webView 의 로드가 끝날 때 각각 호출되게 됩니다. 그러니까 indicator 는 각각의 함수에 시작과 끝을 세팅하면 되겠죠?\nDelegate 위임도 잊지말고 해주세요.\nwebView?.navigationDelegate = self 이제 webView 가 우편번호 서비스 웹페이지를 띄울 수 있도록 URL 만 전달해주면 됩니다. guard 문을 사용해 optional 을 unwrapping 해주고 URLRequest 를 생성해 webView 가 해당 URL 을 load 할 수 있도록 넘겨줍니다.\nguard let url = URL(string: \"https://kasroid.github.io/Kakao-Postcode/\"), let webView = webView else { return } let request = URLRequest(url: url) webView.load(request) indicator.startAnimating() 마지막으로 오토레이아웃을 잡고 Simulator 를 실행시켜 보도록할게요.\nguard let webView = webView else { return } view.addSubview(webView) webView.translatesAutoresizingMaskIntoConstraints = false webView.addSubview(indicator) indicator.translatesAutoresizingMaskIntoConstraints = false NSLayoutConstraint.activate([ webView.topAnchor.constraint(equalTo: view.topAnchor), webView.leadingAnchor.constraint(equalTo: view.leadingAnchor), webView.trailingAnchor.constraint(equalTo: view.trailingAnchor), webView.bottomAnchor.constraint(equalTo: view.bottomAnchor), indicator.centerXAnchor.constraint(equalTo: webView.centerXAnchor), indicator.centerYAnchor.constraint(equalTo: webView.centerYAnchor), ]) 한가지 더!! ViewController 로 돌아가 handleButton 함수에 KakaoZipCodeVC 를 Present 할 수 있도록 구현합니다.\nlet nextVC = KakaoZipCodeVC() present(nextVC, animated: true) 이제 Simulator 를 실행시키고 Button 을 눌러보세요.\nSuccess!!\n데이터 전달하기 정상적으로 우편번호 서비스를 띄우는데 성공했으니 이제 사용자가 입력한 데이터를 받아올 일만 남았습니다.\nuserContentController(_:didReceive:) 함수 내부에 코드를 구현할게요.\nif let data = message.body as? [String: Any] { address = data[\"roadAddress\"] as? String ?? \"\" } guard let previousVC = presentingViewController as? ViewController else { return } previousVC.label.text = address self.dismiss(animated: true, completion: nil) 지금은 “roadAddress” 라는 항목만 추출했지만 message.body 를 print 해보면 다음과 같은 값들을 가져오는 것을 확인할 수가 있습니다.\n{ jibunAddress = \"\\Uacbd\\Uae30 \\Uc131\\Ub0a8\\Uc2dc \\Ubd84\\Ub2f9\\Uad6c \\Uc6b4\\Uc911\\Ub3d9 1017-3\"; roadAddress = \"\\Uacbd\\Uae30 \\Uc131\\Ub0a8\\Uc2dc \\Ubd84\\Ub2f9\\Uad6c \\Ud310\\Uad50\\Ub85c 35\"; zonecode = 13467; } 필요에 따라 지번 주소, 도로명 주소, 우편번호를 가져와서 사용할 수 있어요.\n이제 Simulator 를 실행하고 원하는 주소를 검색한 뒤에 클릭하면 내가 선택한 데이터가 ViewController 의 label 로 전달되는 것을 확인할 수 있습니다.\nWrap Up 처음 시도할 떄는 조금 복잡하게 느껴질 수 있지만 한번만 잘 따라해보면 그렇게까지 어려운 내용은 아니에요. 워낙 어려운게 많아야지…\nGithub Pages 로 한번 구현해두면 계속해서 사용할 수 있으니 꼭 한번 만들어두고 앞으로 다양한 곳에서 활용해보세요. 그럼 오늘도 공부하느라 수고 많으셨습니다!\nimport UIKit import WebKit class KakaoZipCodeVC: UIViewController { // MARK: - Properties var webView: WKWebView? let indicator = UIActivityIndicatorView(style: .medium) var address = \"\" // MARK: - Lifecycle override func viewDidLoad() { super.viewDidLoad() configureUI() } // MARK: - UI private func configureUI() { view.backgroundColor = .white setAttributes() setContraints() } private func setAttributes() { let contentController = WKUserContentController() contentController.add(self, name: \"callBackHandler\") let configuration = WKWebViewConfiguration() configuration.userContentController = contentController webView = WKWebView(frame: .zero, configuration: configuration) self.webView?.navigationDelegate = self guard let url = URL(string: \"https://kasroid.github.io/Kakao-Postcode/\"), let webView = webView else { return } let request = URLRequest(url: url) webView.load(request) indicator.startAnimating() } private func setContraints() { guard let webView = webView else { return } view.addSubview(webView) webView.translatesAutoresizingMaskIntoConstraints = false webView.addSubview(indicator) indicator.translatesAutoresizingMaskIntoConstraints = false NSLayoutConstraint.activate([ webView.topAnchor.constraint(equalTo: view.topAnchor), webView.leadingAnchor.constraint(equalTo: view.leadingAnchor), webView.trailingAnchor.constraint(equalTo: view.trailingAnchor), webView.bottomAnchor.constraint(equalTo: view.bottomAnchor), indicator.centerXAnchor.constraint(equalTo: webView.centerXAnchor), indicator.centerYAnchor.constraint(equalTo: webView.centerYAnchor), ]) } } extension KakaoZipCodeVC: WKScriptMessageHandler { func userContentController(_ userContentController: WKUserContentController, didReceive message: WKScriptMessage) { if let data = message.body as? [String: Any] { address = data[\"roadAddress\"] as? String ?? \"\" } guard let previousVC = presentingViewController as? ViewController else { return } previousVC.label.text = address self.dismiss(animated: true, completion: nil) } } extension KakaoZipCodeVC: WKNavigationDelegate { func webView(_ webView: WKWebView, didStartProvisionalNavigation navigation: WKNavigation!) { indicator.startAnimating() } func webView(_ webView: WKWebView, didFinish navigation: WKNavigation!) { indicator.stopAnimating() } } ","wordCount":"1690","inLanguage":"en","image":"https://kasroid.github.io/%3Cimage%20path/url%3E","datePublished":"2020-09-16T19:04:53+09:00","dateModified":"2020-09-16T19:04:53+09:00","author":{"@type":"Person","name":"Doyoung Song"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://kasroid.github.io/posts/ios/20200916-webkit-search-address-with-kakao-with-uikit/"},"publisher":{"@type":"Organization","name":"SDY - Developer Kas","logo":{"@type":"ImageObject","url":"https://kasroid.github.io/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://kasroid.github.io accesskey=h title="SDY (Alt + H)">SDY</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://kasroid.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://kasroid.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://kasroid.github.io/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://kasroid.github.io>Home</a>&nbsp;»&nbsp;<a href=https://kasroid.github.io/posts/>Posts</a>&nbsp;»&nbsp;<a href=https://kasroid.github.io/posts/ios/>iOS</a></div><h1 class=post-title>WebKit - 카카오 우편번호 서비스 구현하기 with UIKit</h1><div class=post-meta><span title='2020-09-16 19:04:53 +0900 KST'>2020-09-16</span>&nbsp;·&nbsp;Doyoung Song</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#intro>Intro</a></li><li><a href=#서비스-확인하기>서비스 확인하기</a></li><li><a href=#구현하기>구현하기</a><ul><li><a href=#github-pages-를-사용해-카카오-우편번호-서비스-웹페이지-만들기>Github Pages 를 사용해 카카오 우편번호 서비스 웹페이지 만들기</a></li><li><a href=#webview-로-카카오-우편번호-서비스-웹페이지-표시하기>WebView 로 카카오 우편번호 서비스 웹페이지 표시하기</a></li></ul></li><li><a href=#wrap-up>Wrap Up</a></li></ul></nav></div></details></div><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9464825723074024" crossorigin=anonymous></script>
<ins class=adsbygoogle style=display:block data-ad-client=ca-pub-9464825723074024 data-ad-slot=2998746317 data-ad-format=auto data-full-width-responsive=true></ins>
<script>(adsbygoogle=window.adsbygoogle||[]).push({})</script><div class=post-content><blockquote><p>본 포스팅은 Swift 5.3 기준으로 작성되었습니다.</p></blockquote><h2 id=intro>Intro<a hidden class=anchor aria-hidden=true href=#intro>#</a></h2><p>저는 요새 <strong>Market Kurly</strong> 앱을 클론하는 프로젝트를 진행하고 있는데요. 회원가입 부분에서 <strong>Kakao 우편변호 찾기</strong> 기능을 지원하더라고요. 사용자로서는 분명히 사용해본 경험이 있는 것 같은데 막상 구현하는 방법은 배운적도 생각해본 적도 없었습니다 ㅎㅎ 어쨌든 중요한건 지금 어떻게든 구현을 해야한다는 것이고, 마켓컬리앱이 아니더라도 회원가입을 필요로하는 서비스라면 많이 지원하고 있는 기능이니까 잘 공부해서 정리해두면 나중에 쓸데가 많을 것 같아 포스팅을 남깁니다.</p><hr><h2 id=서비스-확인하기>서비스 확인하기<a hidden class=anchor aria-hidden=true href=#서비스-확인하기>#</a></h2><p><a href=http://postcode.map.daum.net/guide>Kakao 우편번호 서비스 웹페이지</a> 에 접속해보면 평소 우리가 회원가입을 할 때 자주 볼 수 있었던 화면이 하나 보일거에요.</p><p><img loading=lazy src=https://user-images.githubusercontent.com/41736472/92984428-fe09d700-f4e4-11ea-8629-4d693ceb2b06.png alt="Kakao 우편번호 서비스 웹페이지 스크린샷"></p><p>먼저 안내를 읽어보니 모든 조건에서 무료로 사용가능하고 별다른 요구사항도 없는 것 같네요. 그냥 가져다쓰고 <strong>WebView</strong> 형태로 앱 내에서 띄워주면 될 것 같습니다. 그럼 바로 구현을 시작해볼까요? ㅎㅎ</p><hr><h2 id=구현하기>구현하기<a hidden class=anchor aria-hidden=true href=#구현하기>#</a></h2><p>저도 완전히 처음 시도해보는 과정이다보니 어디서부터 접근해야할지 감이 오지않아 검색할 수 있는만큼 최대한 찾아봤지만 <strong>Swift</strong> 로는 <strong>카카오 우편번호 서비스</strong> 구현방법을 상세히 정리해둔 곳을 찾지 못해 공부하는데 애를 정말 많이 먹었습니다.</p><p>아무튼 구현을 위한 순서를 정리해보면 <strong>우편번호 서비스가 구현된 웹페이지 주소</strong>가 있어야하고, 그 주소를 기반으로 <strong>Xcode</strong> 에서 <strong>WebView</strong> 를 이용해 웹페이지를 띄워주어야 합니다. 그래서 오늘 포스팅은 이런 순서로 진행될거에요.</p><ul><li><strong>Github Pages</strong> 를 사용해 카카오 우편번호 서비스 웹페이지 구현</li><li><strong>Xcode</strong> 에서 <strong>WebView</strong> 를 사용해 웹페이지 띄우기</li></ul><p>그럼 순서대로 차근차근 구현을 시작해볼게요.</p><hr><h3 id=github-pages-를-사용해-카카오-우편번호-서비스-웹페이지-만들기>Github Pages 를 사용해 카카오 우편번호 서비스 웹페이지 만들기<a hidden class=anchor aria-hidden=true href=#github-pages-를-사용해-카카오-우편번호-서비스-웹페이지-만들기>#</a></h3><p>카카오 우편번호 서비스를 웹페이지에 구현할 수 있는 방법은 여러가지가 있겠지만 이번 포스팅에서는 <strong>Github Pages</strong> 를 사용해 웹페이지를 생성하겠습니다. <strong>Github</strong> 에 접속해서 <strong>Repo</strong> 를 하나 만들어주세요. 저는 <code>Kakao-Postcode</code> 라고 생성했습니다.</p><p><img loading=lazy src=https://user-images.githubusercontent.com/41736472/93218464-363f3d00-f7a5-11ea-8312-00106dea9874.png alt="Github Repo 생성"></p><p>생성된 <strong>Repo</strong> 의 <strong>Setting</strong> 카테고리로 들어가 스크롤을 내리다보면 <strong>Github Pages</strong> 라는 항목이 보일거에요. 이곳에서 <strong>Source</strong> 로 <code>master</code> branch 를 선택하고 <strong>save</strong> 버튼을 눌러줍니다.</p><p><img loading=lazy src=https://user-images.githubusercontent.com/41736472/93219126-faf13e00-f7a5-11ea-9044-ea874360c682.png alt="Github Pages 생성 항목"></p><p><strong>Save</strong> 버튼을 누르면 페이지가 리프레시 되는데 다시 <strong>Github Pages</strong> 항목이 있는 곳으로 돌아가보면 우리가 생성한 <strong>웹페이지의 주소</strong>를 얻을 수 있습니다.</p><p><img loading=lazy src=https://user-images.githubusercontent.com/41736472/93219475-63401f80-f7a6-11ea-8a61-9acc5169287e.png alt="Github Pages 주소 확인"></p><p>생성된 주소로 들어가보면 <strong>404 에러 페이지</strong>가 보일거에요. 지금은 우리가 아무 내용도 입력하지 않았으므로 이렇게 뜨는게 정상입니다.</p><p><img loading=lazy src=https://user-images.githubusercontent.com/41736472/93219146-ffb5f200-f7a5-11ea-9ca6-d70ea67c1bd2.png alt="404 Error Page"></p><p>다시 <strong>Github</strong> 으로 돌아와 <code>Create new file</code> 을 클릭합니다.</p><p><img loading=lazy src=https://user-images.githubusercontent.com/41736472/93221502-d185e180-f7a8-11ea-897a-7cb223c8532b.png alt="Create new file"></p><p>그리고 파일의 이름을 정확하게 <code>index.html</code> 이라고 입력해주세요. <strong>Github Pages</strong> 는 <code>index.html</code> 이라는 파일을 자동적으로 찾아서 웹페이지로 생성해줍니다.</p><p><img loading=lazy src=https://user-images.githubusercontent.com/41736472/93221486-cc289700-f7a8-11ea-8e79-6f7b53f52fdd.png alt="index.html 입력 장면"></p><p>이제 웹페이지 구현에 필요한 <strong>html</strong> 코드를 입력하면 됩니다. 포스팅 초반에 보았던 <strong>공식 카카오 우편번호 서비스 웹페이지</strong>를 보면 <strong>통합로딩방식</strong> 항목을 찾을 수 있고 이걸 갖다 붙여넣으면 바로 구현이 되긴하지만 <strong>POP-UP</strong> 방식으로 구현된다는 문제점이 있습니다.</p><p>그래서 주소를 입력했을 때 팝업 방식이 아닌 페이지가 바로 보일 수 있도록 구현된 코드가 필요합니다. <code>index.html</code> 본문에 아래 코드를 입력하고 저장해주세요.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=cp>&lt;!DOCTYPE html&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>html</span> <span class=na>lang</span><span class=o>=</span><span class=s>&#34;ko&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;</span>주소 찾기<span class=p>&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>charset</span><span class=o>=</span><span class=s>&#34;UTF-8&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>meta</span>
</span></span><span class=line><span class=cl>      <span class=na>name</span><span class=o>=</span><span class=s>&#34;viewport&#34;</span>
</span></span><span class=line><span class=cl>      <span class=na>content</span><span class=o>=</span><span class=s>&#34;width=device-width,height=device-height,initial-scale=1.0&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>body</span> <span class=na>onload</span><span class=o>=</span><span class=s>&#34;execDaumPostcode()&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span>
</span></span><span class=line><span class=cl>      <span class=na>id</span><span class=o>=</span><span class=s>&#34;layer&#34;</span>
</span></span><span class=line><span class=cl>      <span class=na>style</span><span class=o>=</span><span class=s>&#34;display:block; position:absolute; overflow:hidden; z-index:1; -webkit-overflow-scrolling:touch; &#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;https://spi.maps.daum.net/imap/map_js_init/postcode.v2.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=nb>window</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s2>&#34;message&#34;</span><span class=p>,</span> <span class=nx>onReceivedPostMessage</span><span class=p>,</span> <span class=kc>false</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=kd>function</span> <span class=nx>onReceivedPostMessage</span><span class=p>(</span><span class=nx>event</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>//..ex deconstruct event into action &amp; params
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kd>var</span> <span class=nx>action</span> <span class=o>=</span> <span class=nx>event</span><span class=p>.</span><span class=nx>data</span><span class=p>.</span><span class=nx>action</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kd>var</span> <span class=nx>params</span> <span class=o>=</span> <span class=nx>event</span><span class=p>.</span><span class=nx>data</span><span class=p>.</span><span class=nx>params</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;onReceivedPostMessage &#34;</span> <span class=o>+</span> <span class=nx>event</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=kd>function</span> <span class=nx>onReceivedActivityMessageViaJavascriptInterface</span><span class=p>(</span><span class=nx>json</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>//..ex deconstruct data into action &amp; params
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kd>var</span> <span class=nx>data</span> <span class=o>=</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>parse</span><span class=p>(</span><span class=nx>json</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=kd>var</span> <span class=nx>action</span> <span class=o>=</span> <span class=nx>data</span><span class=p>.</span><span class=nx>action</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kd>var</span> <span class=nx>params</span> <span class=o>=</span> <span class=nx>data</span><span class=p>.</span><span class=nx>params</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;onReceivedActivityMessageViaJavascriptInterface &#34;</span> <span class=o>+</span> <span class=nx>event</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=kd>function</span> <span class=nx>postMessageToiOS</span><span class=p>(</span><span class=nx>postData</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nb>window</span><span class=p>.</span><span class=nx>webkit</span><span class=p>.</span><span class=nx>messageHandlers</span><span class=p>.</span><span class=nx>callBackHandler</span><span class=p>.</span><span class=nx>postMessage</span><span class=p>(</span><span class=nx>postData</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>element_layer</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&#34;layer&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=kd>function</span> <span class=nx>execDaumPostcode</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>new</span> <span class=nx>daum</span><span class=p>.</span><span class=nx>Postcode</span><span class=p>({</span>
</span></span><span class=line><span class=cl>          <span class=nx>oncomplete</span><span class=o>:</span> <span class=kd>function</span> <span class=p>(</span><span class=nx>data</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=kd>var</span> <span class=nx>jibunAddress</span> <span class=o>=</span> <span class=s2>&#34;&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=nx>data</span><span class=p>.</span><span class=nx>jibunAddress</span> <span class=o>==</span> <span class=s2>&#34;&#34;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>              <span class=nx>jibunAddress</span> <span class=o>=</span> <span class=nx>data</span><span class=p>.</span><span class=nx>autoJibunAddress</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=nx>data</span><span class=p>.</span><span class=nx>autoJibunAddress</span> <span class=o>==</span> <span class=s2>&#34;&#34;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>              <span class=nx>jibunAddress</span> <span class=o>=</span> <span class=nx>data</span><span class=p>.</span><span class=nx>jibunAddress</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=kd>var</span> <span class=nx>postData</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>              <span class=nx>roadAddress</span><span class=o>:</span> <span class=nx>data</span><span class=p>.</span><span class=nx>roadAddress</span><span class=p>,</span>
</span></span><span class=line><span class=cl>              <span class=nx>jibunAddress</span><span class=o>:</span> <span class=nx>jibunAddress</span><span class=p>,</span>
</span></span><span class=line><span class=cl>              <span class=nx>zonecode</span><span class=o>:</span> <span class=nx>data</span><span class=p>.</span><span class=nx>zonecode</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=p>};</span>
</span></span><span class=line><span class=cl>            <span class=nb>window</span><span class=p>.</span><span class=nx>postMessageToiOS</span><span class=p>(</span><span class=nx>postData</span><span class=p>);</span>
</span></span><span class=line><span class=cl>          <span class=p>},</span>
</span></span><span class=line><span class=cl>          <span class=nx>width</span><span class=o>:</span> <span class=s2>&#34;100%&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>height</span><span class=o>:</span> <span class=s2>&#34;100%&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>}).</span><span class=nx>embed</span><span class=p>(</span><span class=nx>element_layer</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>element_layer</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>display</span> <span class=o>=</span> <span class=s2>&#34;block&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=nx>initLayerPosition</span><span class=p>();</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=kd>function</span> <span class=nx>initLayerPosition</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>var</span> <span class=nx>width</span> <span class=o>=</span> <span class=nb>window</span><span class=p>.</span><span class=nx>innerWidth</span> <span class=o>||</span> <span class=nb>document</span><span class=p>.</span><span class=nx>documentElement</span><span class=p>.</span><span class=nx>clientWidth</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kd>var</span> <span class=nx>height</span> <span class=o>=</span>
</span></span><span class=line><span class=cl>          <span class=nb>window</span><span class=p>.</span><span class=nx>innerHeight</span> <span class=o>||</span> <span class=nb>document</span><span class=p>.</span><span class=nx>documentElement</span><span class=p>.</span><span class=nx>clientHeight</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=nx>element_layer</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>width</span> <span class=o>=</span> <span class=nx>width</span> <span class=o>+</span> <span class=s2>&#34;px&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=nx>element_layer</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>height</span> <span class=o>=</span> <span class=nx>height</span> <span class=o>+</span> <span class=s2>&#34;px&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=nx>element_layer</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>left</span> <span class=o>=</span>
</span></span><span class=line><span class=cl>          <span class=p>((</span><span class=nb>window</span><span class=p>.</span><span class=nx>innerWidth</span> <span class=o>||</span> <span class=nb>document</span><span class=p>.</span><span class=nx>documentElement</span><span class=p>.</span><span class=nx>clientWidth</span><span class=p>)</span> <span class=o>-</span>
</span></span><span class=line><span class=cl>            <span class=nx>width</span><span class=p>)</span> <span class=o>/</span>
</span></span><span class=line><span class=cl>            <span class=mi>2</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;px&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=nx>element_layer</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>top</span> <span class=o>=</span>
</span></span><span class=line><span class=cl>          <span class=p>((</span><span class=nb>window</span><span class=p>.</span><span class=nx>innerHeight</span> <span class=o>||</span> <span class=nb>document</span><span class=p>.</span><span class=nx>documentElement</span><span class=p>.</span><span class=nx>clientHeight</span><span class=p>)</span> <span class=o>-</span>
</span></span><span class=line><span class=cl>            <span class=nx>height</span><span class=p>)</span> <span class=o>/</span>
</span></span><span class=line><span class=cl>            <span class=mi>2</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;px&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span></code></pre></div><p>적용되는데 시간이 조금 필요하기 때문에 잠시 기다리고나서 <strong>Github Pages</strong> 주소로 들어가보면 우리가 구현하고자 했던 <strong>카카오 우편번호 서비스</strong> 화면이 보일거에요!</p><p>혹시 계속 기다려봐도 안된다면 <strong>Repo</strong> 의 이름을 한번 변경해주세요. 분명히 잘못된 부분이 없는데 계속 페이지 오류가 뜨길래 <strong>Repo</strong> 이름을 바꿔보니까 이후부터 웹페이지가 정상적으로 뜨기 시작했습니다.</p><p><img loading=lazy src=https://user-images.githubusercontent.com/41736472/93221498-d054b480-f7a8-11ea-87d9-7be75386d1cc.png alt="우편번호 서비스 Github Pages"></p><p>잘 나오나요~? ㅎㅎ 이제 <strong>Xcode</strong> 에서 <strong>WebKit</strong> 을 이용해 이 페이지를 띄워주면 됩니다.</p><hr><h3 id=webview-로-카카오-우편번호-서비스-웹페이지-표시하기>WebView 로 카카오 우편번호 서비스 웹페이지 표시하기<a hidden class=anchor aria-hidden=true href=#webview-로-카카오-우편번호-서비스-웹페이지-표시하기>#</a></h3><p><strong>Xcode Project</strong> 를 하나 만들어 실습을 시작해볼게요. 먼저 간단하게 뷰를 세팅하겠습니다.</p><hr><h4 id=setup-view>Setup View<a hidden class=anchor aria-hidden=true href=#setup-view>#</a></h4><p><strong>View</strong> 위에 <strong>Button</strong> 과 <strong>Label</strong> 을 하나씩 올려놓았어요. <strong>Button</strong> 을 누르면 <strong>카카오 우편번호 서비스</strong> 창이 뜨고, 이곳에서 주소를 입력받은 뒤 <strong>Label</strong> 에 표시될 수 있도록 <strong>데이터를 전달</strong>해 볼거에요.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-swift data-lang=swift><span class=line><span class=cl><span class=kd>import</span> <span class=nc>UIKit</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>ViewController</span><span class=p>:</span> <span class=n>UIViewController</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// </span><span class=cs>MARK:</span><span class=c1> - Properties</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nv>button</span> <span class=p>=</span> <span class=n>UIButton</span><span class=p>(</span><span class=n>type</span><span class=p>:</span> <span class=p>.</span><span class=n>system</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nv>label</span> <span class=p>=</span> <span class=n>UILabel</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// </span><span class=cs>MARK:</span><span class=c1> - Lifecycle</span>
</span></span><span class=line><span class=cl>    <span class=kr>override</span> <span class=kd>func</span> <span class=nf>viewDidLoad</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kc>super</span><span class=p>.</span><span class=n>viewDidLoad</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>configureUI</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// </span><span class=cs>MARK:</span><span class=c1> - UI</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kd>func</span> <span class=nf>configureUI</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>setContraints</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>setAttributes</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kd>func</span> <span class=nf>setAttributes</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>button</span><span class=p>.</span><span class=n>setTitle</span><span class=p>(</span><span class=s>&#34;Button&#34;</span><span class=p>,</span> <span class=k>for</span><span class=p>:</span> <span class=p>.</span><span class=n>normal</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=n>button</span><span class=p>.</span><span class=n>addTarget</span><span class=p>(</span><span class=kc>self</span><span class=p>,</span> <span class=n>action</span><span class=p>:</span> <span class=k>#selector</span><span class=p>(</span><span class=n>handleButton</span><span class=p>(</span><span class=kc>_</span><span class=p>:)),</span> <span class=k>for</span><span class=p>:</span> <span class=p>.</span><span class=n>touchUpInside</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>label</span><span class=p>.</span><span class=n>text</span> <span class=p>=</span> <span class=s>&#34;Label&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>label</span><span class=p>.</span><span class=n>font</span> <span class=p>=</span> <span class=n>UIFont</span><span class=p>.</span><span class=n>systemFont</span><span class=p>(</span><span class=n>ofSize</span><span class=p>:</span> <span class=mi>20</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kd>func</span> <span class=nf>setContraints</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=p>[</span><span class=n>button</span><span class=p>,</span> <span class=n>label</span><span class=p>].</span><span class=n>forEach</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>view</span><span class=p>.</span><span class=n>addSubview</span><span class=p>(</span><span class=nv>$0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=nv>$0</span><span class=p>.</span><span class=n>translatesAutoresizingMaskIntoConstraints</span> <span class=p>=</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=n>NSLayoutConstraint</span><span class=p>.</span><span class=n>activate</span><span class=p>([</span>
</span></span><span class=line><span class=cl>            <span class=n>button</span><span class=p>.</span><span class=n>centerXAnchor</span><span class=p>.</span><span class=n>constraint</span><span class=p>(</span><span class=n>equalTo</span><span class=p>:</span> <span class=n>view</span><span class=p>.</span><span class=n>centerXAnchor</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=n>button</span><span class=p>.</span><span class=n>centerYAnchor</span><span class=p>.</span><span class=n>constraint</span><span class=p>(</span><span class=n>equalTo</span><span class=p>:</span> <span class=n>view</span><span class=p>.</span><span class=n>centerYAnchor</span><span class=p>),</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=n>label</span><span class=p>.</span><span class=n>centerXAnchor</span><span class=p>.</span><span class=n>constraint</span><span class=p>(</span><span class=n>equalTo</span><span class=p>:</span> <span class=n>view</span><span class=p>.</span><span class=n>centerXAnchor</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=n>label</span><span class=p>.</span><span class=n>bottomAnchor</span><span class=p>.</span><span class=n>constraint</span><span class=p>(</span><span class=n>equalTo</span><span class=p>:</span> <span class=n>button</span><span class=p>.</span><span class=n>topAnchor</span><span class=p>,</span> <span class=n>constant</span><span class=p>:</span> <span class=o>-</span><span class=mi>40</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=p>])</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// </span><span class=cs>MARK:</span><span class=c1> - Selectors</span>
</span></span><span class=line><span class=cl>    <span class=kr>@objc</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kd>func</span> <span class=nf>handleButton</span><span class=p>(</span><span class=kc>_</span> <span class=n>sender</span><span class=p>:</span> <span class=n>UIButton</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=bp>print</span><span class=p>(</span><span class=kc>#function</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>코드를 작성하고 <strong>Simulator</strong> 를 실행해보면 이렇게 보입니다.</p><p><img loading=lazy src=https://user-images.githubusercontent.com/41736472/93291970-688d8080-f81f-11ea-9c6e-d3596e8e3fa0.png alt="Simulator 실행화면"></p><hr><h4 id=카카오-우편번호-서비스-구현하기>카카오 우편번호 서비스 구현하기<a hidden class=anchor aria-hidden=true href=#카카오-우편번호-서비스-구현하기>#</a></h4><p>기본적인 뷰 세팅은 마쳤으니 본격적으로 <strong>우편번호 서비스</strong> 구현을 위한 코드를 작성해보도록 할게요. 서비스가 보여질 새로운 <code>UIViewController</code> 를 하나 생성해줍니다. 저는 <code>KakaoZipCodeVC</code> 라고 만들었어요~</p><p>이제 이곳에 조금 전 <strong>Github Pages</strong> 를 사용해 미리 만들어둔 페이지를 <strong>WebView</strong> 를 사용해서 띄워줄거에요. 그러니까 <strong>WebView</strong> 를 사용하기 위해 <code>WebKit</code> 을 <strong>import</strong> 해주도록 할게요.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-swift data-lang=swift><span class=line><span class=cl><span class=kd>import</span> <span class=nc>WebKit</span>
</span></span></code></pre></div><p>그리고 <code>WKWebView</code> 인스턴스를 optional 로 미리 하나 생성하고, <strong>webView</strong> 가 로딩될 동안 보여줄 <code>UIActivityIndicatorView</code> 도 인스턴스를 생성하겠습니다. 나중에 사용자가 선택한 주소를 저장할 변수도 하나 생성할게요.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-swift data-lang=swift><span class=line><span class=cl><span class=kd>var</span> <span class=nv>webView</span><span class=p>:</span> <span class=n>WKWebView</span><span class=p>?</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nv>indicator</span> <span class=p>=</span> <span class=n>UIActivityIndicatorView</span><span class=p>(</span><span class=n>style</span><span class=p>:</span> <span class=p>.</span><span class=n>medium</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nv>address</span> <span class=p>=</span> <span class=s>&#34;&#34;</span>
</span></span></code></pre></div><p>인스턴스 생성까지 마쳤고 <strong>Java Script</strong> 를 읽을 수 있게 도와주는 <code>WKUserContentController</code> 를 생성해야합니다. 처음보는 클래스니까 <strong>공식문서</strong>를 먼저 한번 볼까요.</p><p><img loading=lazy src=https://user-images.githubusercontent.com/41736472/93293054-07b37780-f822-11ea-9d54-7d1b898ac528.png alt="WKUserContentController 공식문서"></p><p>특별한 내용은 없고 <strong>Java Script</strong> 가 메세지를 Post 할 수 있게 도와준다고 나와있네요. 우리가 <strong>Github Pages</strong> 에 작성한 <strong>html</strong> 이 <strong>Java Script</strong> 를 불러오는 내용이니까 이걸 쓰는게 맞을 것 같아요.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-swift data-lang=swift><span class=line><span class=cl><span class=kd>let</span> <span class=nv>contentController</span> <span class=p>=</span> <span class=n>WKUserContentController</span><span class=p>()</span>
</span></span></code></pre></div><p>인스턴스를 생성해줬으니 이제 <strong>Java Script</strong> 가 보내는 메세지를 읽을 수 있어야 합니다. 여기서 메세지란 사용자가 선택한 정보가 무엇인지 우리가 받는 것을 뜻하겠죠?</p><p>아무튼 이 메세지를 받으려면 <code>WKUserContentController</code> 가 제공하는 <code>add(_:name:)</code> method 를 사용해야 하는데요.</p><p>이 method 를 사용하기 위해서는 <code>WKScriptMessageHandler</code> 프로토콜을 채택해주어야 합니다. 그리고 이 프로토콜을 채택하면 <strong>필수적으로</strong> 구현해야하는 <code>userContentController(_:didReceive:)</code> method 도 구현하도록 할게요.</p><p>프로토콜을 채택하기 전에 <code>add(_:name:)</code> method 의 공식문서를 잠시 살펴봤는데&mldr;</p><p><img loading=lazy src=https://user-images.githubusercontent.com/41736472/93293806-d76cd880-f823-11ea-9fa1-776b07eb51f0.png alt="WKUserContentController 의 add method 공식문서"></p><p><strong>Script Message Handler</strong> 를 추가한다고 합니다. <strong>Hanlder</strong> 가 있어야 <strong>Java Script</strong> 가 보내는 <strong>Message</strong> 를 정상적으로 수신할 수 있는 것 같아요.</p><hr><h4 id=wkscriptmessagehandler-프로토콜-채택>WKScriptMessageHandler 프로토콜 채택<a hidden class=anchor aria-hidden=true href=#wkscriptmessagehandler-프로토콜-채택>#</a></h4><p><code>WKScriptMessageHandler</code> 를 채택하고 필수함수를 구현했습니다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-swift data-lang=swift><span class=line><span class=cl><span class=kd>extension</span> <span class=nc>KakaoZipCodeVC</span><span class=p>:</span> <span class=n>WKScriptMessageHandler</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>func</span> <span class=nf>userContentController</span><span class=p>(</span><span class=kc>_</span> <span class=n>userContentController</span><span class=p>:</span> <span class=n>WKUserContentController</span><span class=p>,</span> <span class=n>didReceive</span> <span class=n>message</span><span class=p>:</span> <span class=n>WKScriptMessage</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>직접 실험을 해보니 이 함수가 <strong>호출되는 타이밍</strong>은 유저가 주소를 검색하고 어떤 값을 <strong>최종적으로 선택했을 때</strong> 호출되게 됩니다.</p><p>프로토콜을 채택했으니 <code>add(_:name:)</code> method 를 사용할 수 있게 되었어요. 다시 <code>contentController</code> 를 인스턴스화 한곳으로 돌아가 코드를 입력해주세요.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-swift data-lang=swift><span class=line><span class=cl><span class=n>contentController</span><span class=p>.</span><span class=n>add</span><span class=p>(</span><span class=kc>self</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=s>&#34;callBackHandler&#34;</span><span class=p>)</span>
</span></span></code></pre></div><p>이제 초반에 optional 로 생성해두었던 <code>WKWebView</code> 를 인스턴스화 해주어야하는데요. 그 전에 먼저 방금 생성한 <code>contentController</code> 를 <code>WKWebView</code> 와 연결할 수 있도록 도와주는 <code>WKWebViewConfiguration</code> 이 필요합니다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-swift data-lang=swift><span class=line><span class=cl><span class=kd>let</span> <span class=nv>configuration</span> <span class=p>=</span> <span class=n>WKWebViewConfiguration</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>configuration</span><span class=p>.</span><span class=n>userContentController</span> <span class=p>=</span> <span class=n>contentController</span>
</span></span></code></pre></div><p><code>webView</code> 를 인스턴스화 해줍니다. 레이아웃은 아래에서 오토레이아웃으로 잡을거니까 <code>.zero</code> 로 세팅하고 방금 만들어둔 <code>configuration</code> 을 연결합니다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-swift data-lang=swift><span class=line><span class=cl><span class=n>webView</span> <span class=p>=</span> <span class=n>WKWebView</span><span class=p>(</span><span class=n>frame</span><span class=p>:</span> <span class=p>.</span><span class=n>zero</span><span class=p>,</span> <span class=n>configuration</span><span class=p>:</span> <span class=n>configuration</span><span class=p>)</span>
</span></span></code></pre></div><p><code>webView</code> 가 로드될 때 <strong>indicator</strong> 를 보여줄 수 있도록 <code>WKNavigationDelegate</code> 프로토콜을 채택하고 코드를 구현해보겠습니다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-swift data-lang=swift><span class=line><span class=cl><span class=kd>extension</span> <span class=nc>KakaoZipCodeVC</span><span class=p>:</span> <span class=n>WKNavigationDelegate</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>func</span> <span class=nf>webView</span><span class=p>(</span><span class=kc>_</span> <span class=n>webView</span><span class=p>:</span> <span class=n>WKWebView</span><span class=p>,</span> <span class=n>didStartProvisionalNavigation</span> <span class=n>navigation</span><span class=p>:</span> <span class=n>WKNavigation</span><span class=p>!)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>indicator</span><span class=p>.</span><span class=n>startAnimating</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>func</span> <span class=nf>webView</span><span class=p>(</span><span class=kc>_</span> <span class=n>webView</span><span class=p>:</span> <span class=n>WKWebView</span><span class=p>,</span> <span class=n>didFinish</span> <span class=n>navigation</span><span class=p>:</span> <span class=n>WKNavigation</span><span class=p>!)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>indicator</span><span class=p>.</span><span class=n>stopAnimating</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>함수의 <strong>Parameter</strong> 이름만 봐도 알 수 있듯이</p><ul><li><code>webView(_:didStartProvisionalNavigation:)</code> 는 <code>webView</code> 의 <strong>로드가 시작될 때</strong></li><li><code>webView(_:didFinish:)</code> 는 <code>webView</code> 의 <strong>로드가 끝날 때</strong></li></ul><p>각각 호출되게 됩니다. 그러니까 <strong>indicator</strong> 는 각각의 함수에 시작과 끝을 세팅하면 되겠죠?</p><p><strong>Delegate</strong> 위임도 잊지말고 해주세요.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-swift data-lang=swift><span class=line><span class=cl><span class=n>webView</span><span class=p>?.</span><span class=n>navigationDelegate</span> <span class=p>=</span> <span class=kc>self</span>
</span></span></code></pre></div><p>이제 <code>webView</code> 가 우편번호 서비스 웹페이지를 띄울 수 있도록 <strong>URL</strong> 만 전달해주면 됩니다. <strong>guard</strong> 문을 사용해 optional 을 unwrapping 해주고 <code>URLRequest</code> 를 생성해 <code>webView</code> 가 해당 <strong>URL 을 load</strong> 할 수 있도록 넘겨줍니다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-swift data-lang=swift><span class=line><span class=cl><span class=k>guard</span> <span class=kd>let</span> <span class=nv>url</span> <span class=p>=</span> <span class=n>URL</span><span class=p>(</span><span class=n>string</span><span class=p>:</span> <span class=s>&#34;https://kasroid.github.io/Kakao-Postcode/&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nv>webView</span> <span class=p>=</span> <span class=n>webView</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span> <span class=p>{</span> <span class=k>return</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nv>request</span> <span class=p>=</span> <span class=n>URLRequest</span><span class=p>(</span><span class=n>url</span><span class=p>:</span> <span class=n>url</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>webView</span><span class=p>.</span><span class=n>load</span><span class=p>(</span><span class=n>request</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>indicator</span><span class=p>.</span><span class=n>startAnimating</span><span class=p>()</span>
</span></span></code></pre></div><p>마지막으로 오토레이아웃을 잡고 <strong>Simulator</strong> 를 실행시켜 보도록할게요.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-swift data-lang=swift><span class=line><span class=cl><span class=k>guard</span> <span class=kd>let</span> <span class=nv>webView</span> <span class=p>=</span> <span class=n>webView</span> <span class=k>else</span> <span class=p>{</span> <span class=k>return</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>view</span><span class=p>.</span><span class=n>addSubview</span><span class=p>(</span><span class=n>webView</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>webView</span><span class=p>.</span><span class=n>translatesAutoresizingMaskIntoConstraints</span> <span class=p>=</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>webView</span><span class=p>.</span><span class=n>addSubview</span><span class=p>(</span><span class=n>indicator</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>indicator</span><span class=p>.</span><span class=n>translatesAutoresizingMaskIntoConstraints</span> <span class=p>=</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>NSLayoutConstraint</span><span class=p>.</span><span class=n>activate</span><span class=p>([</span>
</span></span><span class=line><span class=cl>    <span class=n>webView</span><span class=p>.</span><span class=n>topAnchor</span><span class=p>.</span><span class=n>constraint</span><span class=p>(</span><span class=n>equalTo</span><span class=p>:</span> <span class=n>view</span><span class=p>.</span><span class=n>topAnchor</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=n>webView</span><span class=p>.</span><span class=n>leadingAnchor</span><span class=p>.</span><span class=n>constraint</span><span class=p>(</span><span class=n>equalTo</span><span class=p>:</span> <span class=n>view</span><span class=p>.</span><span class=n>leadingAnchor</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=n>webView</span><span class=p>.</span><span class=n>trailingAnchor</span><span class=p>.</span><span class=n>constraint</span><span class=p>(</span><span class=n>equalTo</span><span class=p>:</span> <span class=n>view</span><span class=p>.</span><span class=n>trailingAnchor</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=n>webView</span><span class=p>.</span><span class=n>bottomAnchor</span><span class=p>.</span><span class=n>constraint</span><span class=p>(</span><span class=n>equalTo</span><span class=p>:</span> <span class=n>view</span><span class=p>.</span><span class=n>bottomAnchor</span><span class=p>),</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>indicator</span><span class=p>.</span><span class=n>centerXAnchor</span><span class=p>.</span><span class=n>constraint</span><span class=p>(</span><span class=n>equalTo</span><span class=p>:</span> <span class=n>webView</span><span class=p>.</span><span class=n>centerXAnchor</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=n>indicator</span><span class=p>.</span><span class=n>centerYAnchor</span><span class=p>.</span><span class=n>constraint</span><span class=p>(</span><span class=n>equalTo</span><span class=p>:</span> <span class=n>webView</span><span class=p>.</span><span class=n>centerYAnchor</span><span class=p>),</span>
</span></span><span class=line><span class=cl><span class=p>])</span>
</span></span></code></pre></div><p>한가지 더!! <code>ViewController</code> 로 돌아가 <code>handleButton</code> 함수에 <code>KakaoZipCodeVC</code> 를 <strong>Present</strong> 할 수 있도록 구현합니다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-swift data-lang=swift><span class=line><span class=cl><span class=kd>let</span> <span class=nv>nextVC</span> <span class=p>=</span> <span class=n>KakaoZipCodeVC</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>present</span><span class=p>(</span><span class=n>nextVC</span><span class=p>,</span> <span class=n>animated</span><span class=p>:</span> <span class=kc>true</span><span class=p>)</span>
</span></span></code></pre></div><p>이제 <strong>Simulator</strong> 를 실행시키고 <strong>Button</strong> 을 눌러보세요.</p><p><img loading=lazy src=https://user-images.githubusercontent.com/41736472/93296433-29b0f800-f82a-11ea-9ac3-862baa7461e0.png alt="Simulator 실행 화면"></p><p>Success!!</p><hr><h4 id=데이터-전달하기>데이터 전달하기<a hidden class=anchor aria-hidden=true href=#데이터-전달하기>#</a></h4><p>정상적으로 우편번호 서비스를 띄우는데 성공했으니 이제 사용자가 입력한 데이터를 받아올 일만 남았습니다.</p><p><code>userContentController(_:didReceive:)</code> 함수 내부에 코드를 구현할게요.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-swift data-lang=swift><span class=line><span class=cl><span class=k>if</span> <span class=kd>let</span> <span class=nv>data</span> <span class=p>=</span> <span class=n>message</span><span class=p>.</span><span class=n>body</span> <span class=k>as</span><span class=p>?</span> <span class=p>[</span><span class=nb>String</span><span class=p>:</span> <span class=nb>Any</span><span class=p>]</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>address</span> <span class=p>=</span> <span class=n>data</span><span class=p>[</span><span class=s>&#34;roadAddress&#34;</span><span class=p>]</span> <span class=k>as</span><span class=p>?</span> <span class=nb>String</span> <span class=p>??</span> <span class=s>&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=k>guard</span> <span class=kd>let</span> <span class=nv>previousVC</span> <span class=p>=</span> <span class=n>presentingViewController</span> <span class=k>as</span><span class=p>?</span> <span class=n>ViewController</span> <span class=k>else</span> <span class=p>{</span> <span class=k>return</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>previousVC</span><span class=p>.</span><span class=n>label</span><span class=p>.</span><span class=n>text</span> <span class=p>=</span> <span class=n>address</span>
</span></span><span class=line><span class=cl><span class=kc>self</span><span class=p>.</span><span class=n>dismiss</span><span class=p>(</span><span class=n>animated</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span> <span class=n>completion</span><span class=p>:</span> <span class=kc>nil</span><span class=p>)</span>
</span></span></code></pre></div><p>지금은 <strong>&ldquo;roadAddress&rdquo;</strong> 라는 항목만 추출했지만 <code>message.body</code> 를 print 해보면 다음과 같은 값들을 가져오는 것을 확인할 수가 있습니다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=err>jibunAddress</span> <span class=err>=</span> <span class=nt>&#34;\Uacbd\Uae30 \Uc131\Ub0a8\Uc2dc \Ubd84\Ub2f9\Uad6c \Uc6b4\Uc911\Ub3d9 1017-3&#34;</span><span class=err>;</span>
</span></span><span class=line><span class=cl>    <span class=err>roadAddress</span> <span class=err>=</span> <span class=s2>&#34;\Uacbd\Uae30 \Uc131\Ub0a8\Uc2dc \Ubd84\Ub2f9\Uad6c \Ud310\Uad50\Ub85c 35&#34;</span><span class=err>;</span>
</span></span><span class=line><span class=cl>    <span class=err>zonecode</span> <span class=err>=</span> <span class=mi>13467</span><span class=err>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>필요에 따라 <strong>지번 주소</strong>, <strong>도로명 주소</strong>, <strong>우편번호</strong>를 가져와서 사용할 수 있어요.</p><p>이제 <strong>Simulator</strong> 를 실행하고 원하는 주소를 검색한 뒤에 클릭하면 내가 선택한 데이터가 <code>ViewController</code> 의 <code>label</code> 로 전달되는 것을 확인할 수 있습니다.</p><p><img loading=lazy src=https://user-images.githubusercontent.com/41736472/93297329-05eeb180-f82c-11ea-8417-1d5e5a55cdcc.gif alt="Simulator 실행화면"></p><hr><h2 id=wrap-up>Wrap Up<a hidden class=anchor aria-hidden=true href=#wrap-up>#</a></h2><p>처음 시도할 떄는 조금 복잡하게 느껴질 수 있지만 한번만 잘 따라해보면 그렇게까지 어려운 내용은 아니에요. <del>워낙 어려운게 많아야지&mldr;</del></p><p><strong>Github Pages</strong> 로 한번 구현해두면 계속해서 사용할 수 있으니 꼭 한번 만들어두고 앞으로 다양한 곳에서 활용해보세요. 그럼 오늘도 공부하느라 수고 많으셨습니다!</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-swift data-lang=swift><span class=line><span class=cl><span class=kd>import</span> <span class=nc>UIKit</span>
</span></span><span class=line><span class=cl><span class=kd>import</span> <span class=nc>WebKit</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>KakaoZipCodeVC</span><span class=p>:</span> <span class=n>UIViewController</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// </span><span class=cs>MARK:</span><span class=c1> - Properties</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nv>webView</span><span class=p>:</span> <span class=n>WKWebView</span><span class=p>?</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nv>indicator</span> <span class=p>=</span> <span class=n>UIActivityIndicatorView</span><span class=p>(</span><span class=n>style</span><span class=p>:</span> <span class=p>.</span><span class=n>medium</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nv>address</span> <span class=p>=</span> <span class=s>&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// </span><span class=cs>MARK:</span><span class=c1> - Lifecycle</span>
</span></span><span class=line><span class=cl>    <span class=kr>override</span> <span class=kd>func</span> <span class=nf>viewDidLoad</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kc>super</span><span class=p>.</span><span class=n>viewDidLoad</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>configureUI</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// </span><span class=cs>MARK:</span><span class=c1> - UI</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kd>func</span> <span class=nf>configureUI</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>view</span><span class=p>.</span><span class=n>backgroundColor</span> <span class=p>=</span> <span class=p>.</span><span class=n>white</span>
</span></span><span class=line><span class=cl>        <span class=n>setAttributes</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>setContraints</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kd>func</span> <span class=nf>setAttributes</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>let</span> <span class=nv>contentController</span> <span class=p>=</span> <span class=n>WKUserContentController</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>contentController</span><span class=p>.</span><span class=n>add</span><span class=p>(</span><span class=kc>self</span><span class=p>,</span> <span class=n>name</span><span class=p>:</span> <span class=s>&#34;callBackHandler&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=kd>let</span> <span class=nv>configuration</span> <span class=p>=</span> <span class=n>WKWebViewConfiguration</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>configuration</span><span class=p>.</span><span class=n>userContentController</span> <span class=p>=</span> <span class=n>contentController</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>webView</span> <span class=p>=</span> <span class=n>WKWebView</span><span class=p>(</span><span class=n>frame</span><span class=p>:</span> <span class=p>.</span><span class=n>zero</span><span class=p>,</span> <span class=n>configuration</span><span class=p>:</span> <span class=n>configuration</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=kc>self</span><span class=p>.</span><span class=n>webView</span><span class=p>?.</span><span class=n>navigationDelegate</span> <span class=p>=</span> <span class=kc>self</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>guard</span> <span class=kd>let</span> <span class=nv>url</span> <span class=p>=</span> <span class=n>URL</span><span class=p>(</span><span class=n>string</span><span class=p>:</span> <span class=s>&#34;https://kasroid.github.io/Kakao-Postcode/&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=kd>let</span> <span class=nv>webView</span> <span class=p>=</span> <span class=n>webView</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span> <span class=p>{</span> <span class=k>return</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=kd>let</span> <span class=nv>request</span> <span class=p>=</span> <span class=n>URLRequest</span><span class=p>(</span><span class=n>url</span><span class=p>:</span> <span class=n>url</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>webView</span><span class=p>.</span><span class=n>load</span><span class=p>(</span><span class=n>request</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>indicator</span><span class=p>.</span><span class=n>startAnimating</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kd>func</span> <span class=nf>setContraints</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>guard</span> <span class=kd>let</span> <span class=nv>webView</span> <span class=p>=</span> <span class=n>webView</span> <span class=k>else</span> <span class=p>{</span> <span class=k>return</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=n>view</span><span class=p>.</span><span class=n>addSubview</span><span class=p>(</span><span class=n>webView</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>webView</span><span class=p>.</span><span class=n>translatesAutoresizingMaskIntoConstraints</span> <span class=p>=</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>webView</span><span class=p>.</span><span class=n>addSubview</span><span class=p>(</span><span class=n>indicator</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>indicator</span><span class=p>.</span><span class=n>translatesAutoresizingMaskIntoConstraints</span> <span class=p>=</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>NSLayoutConstraint</span><span class=p>.</span><span class=n>activate</span><span class=p>([</span>
</span></span><span class=line><span class=cl>            <span class=n>webView</span><span class=p>.</span><span class=n>topAnchor</span><span class=p>.</span><span class=n>constraint</span><span class=p>(</span><span class=n>equalTo</span><span class=p>:</span> <span class=n>view</span><span class=p>.</span><span class=n>topAnchor</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=n>webView</span><span class=p>.</span><span class=n>leadingAnchor</span><span class=p>.</span><span class=n>constraint</span><span class=p>(</span><span class=n>equalTo</span><span class=p>:</span> <span class=n>view</span><span class=p>.</span><span class=n>leadingAnchor</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=n>webView</span><span class=p>.</span><span class=n>trailingAnchor</span><span class=p>.</span><span class=n>constraint</span><span class=p>(</span><span class=n>equalTo</span><span class=p>:</span> <span class=n>view</span><span class=p>.</span><span class=n>trailingAnchor</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=n>webView</span><span class=p>.</span><span class=n>bottomAnchor</span><span class=p>.</span><span class=n>constraint</span><span class=p>(</span><span class=n>equalTo</span><span class=p>:</span> <span class=n>view</span><span class=p>.</span><span class=n>bottomAnchor</span><span class=p>),</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=n>indicator</span><span class=p>.</span><span class=n>centerXAnchor</span><span class=p>.</span><span class=n>constraint</span><span class=p>(</span><span class=n>equalTo</span><span class=p>:</span> <span class=n>webView</span><span class=p>.</span><span class=n>centerXAnchor</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=n>indicator</span><span class=p>.</span><span class=n>centerYAnchor</span><span class=p>.</span><span class=n>constraint</span><span class=p>(</span><span class=n>equalTo</span><span class=p>:</span> <span class=n>webView</span><span class=p>.</span><span class=n>centerYAnchor</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=p>])</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>extension</span> <span class=nc>KakaoZipCodeVC</span><span class=p>:</span> <span class=n>WKScriptMessageHandler</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>func</span> <span class=nf>userContentController</span><span class=p>(</span><span class=kc>_</span> <span class=n>userContentController</span><span class=p>:</span> <span class=n>WKUserContentController</span><span class=p>,</span> <span class=n>didReceive</span> <span class=n>message</span><span class=p>:</span> <span class=n>WKScriptMessage</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=kd>let</span> <span class=nv>data</span> <span class=p>=</span> <span class=n>message</span><span class=p>.</span><span class=n>body</span> <span class=k>as</span><span class=p>?</span> <span class=p>[</span><span class=nb>String</span><span class=p>:</span> <span class=nb>Any</span><span class=p>]</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>address</span> <span class=p>=</span> <span class=n>data</span><span class=p>[</span><span class=s>&#34;roadAddress&#34;</span><span class=p>]</span> <span class=k>as</span><span class=p>?</span> <span class=nb>String</span> <span class=p>??</span> <span class=s>&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>guard</span> <span class=kd>let</span> <span class=nv>previousVC</span> <span class=p>=</span> <span class=n>presentingViewController</span> <span class=k>as</span><span class=p>?</span> <span class=n>ViewController</span> <span class=k>else</span> <span class=p>{</span> <span class=k>return</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=n>previousVC</span><span class=p>.</span><span class=n>label</span><span class=p>.</span><span class=n>text</span> <span class=p>=</span> <span class=n>address</span>
</span></span><span class=line><span class=cl>        <span class=kc>self</span><span class=p>.</span><span class=n>dismiss</span><span class=p>(</span><span class=n>animated</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span> <span class=n>completion</span><span class=p>:</span> <span class=kc>nil</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>extension</span> <span class=nc>KakaoZipCodeVC</span><span class=p>:</span> <span class=n>WKNavigationDelegate</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>func</span> <span class=nf>webView</span><span class=p>(</span><span class=kc>_</span> <span class=n>webView</span><span class=p>:</span> <span class=n>WKWebView</span><span class=p>,</span> <span class=n>didStartProvisionalNavigation</span> <span class=n>navigation</span><span class=p>:</span> <span class=n>WKNavigation</span><span class=p>!)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>indicator</span><span class=p>.</span><span class=n>startAnimating</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>func</span> <span class=nf>webView</span><span class=p>(</span><span class=kc>_</span> <span class=n>webView</span><span class=p>:</span> <span class=n>WKWebView</span><span class=p>,</span> <span class=n>didFinish</span> <span class=n>navigation</span><span class=p>:</span> <span class=n>WKNavigation</span><span class=p>!)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>indicator</span><span class=p>.</span><span class=n>stopAnimating</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div></div><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9464825723074024" crossorigin=anonymous></script>
<ins class=adsbygoogle style=display:block data-ad-client=ca-pub-9464825723074024 data-ad-slot=2998746317 data-ad-format=auto data-full-width-responsive=true></ins>
<script>(adsbygoogle=window.adsbygoogle||[]).push({})</script><footer class=post-footer><ul class=post-tags><li><a href=https://kasroid.github.io/tags/uikit/>UIKit</a></li><li><a href=https://kasroid.github.io/tags/webkit/>Webkit</a></li><li><a href=https://kasroid.github.io/tags/kakao/>Kakao</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://kasroid.github.io>SDY - Developer Kas</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>